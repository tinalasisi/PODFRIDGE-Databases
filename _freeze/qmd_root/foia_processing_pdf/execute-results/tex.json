{
  "hash": "649dae85595ffeec668ac8bf3d60cb63",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Supplementary Material: FOIA Document OCR Processing\"\nsubtitle: \"Processing Murphy & Tong FOIA Documents about State DNA Database Racial Composition\"\nformat:\n  pdf:\n    toc: false\n    number-sections: true\n    keep-tex: false\n    documentclass: article\n    geometry:\n      - top=1in\n      - bottom=1in\n      - left=0.8in\n      - right=0.8in\n    fontsize: 11pt\n    fig-width: 8\n    fig-height: 6\n    df-print: kable\n    include-in-header:\n      text: |\n        \\newcommand{\\forcebreak}{\\newpage}\n         \\usepackage{caption}\n         \\captionsetup[figure]{font=large}\neditor: \n  markdown: \n    wrap: 72\nexecute:\n  echo: true\n  warning: false\n  message: false\n  results: hold\n---\n\n# Overview\n\nThis document details the processing of Freedom of Information Act (FOIA) responses from seven U.S. states regarding the demographic composition of their State DNA Index System (SDIS) databases. These responses were obtained by Professor Erin Murphy (NYU Law) in 2018 as part of research on racial disparities in DNA databases.\n\n# Materials and Methods\n\n## Data Sources\n\n### Raw FOIA Responses\n\nThe original FOIA responses are stored in two formats:\n\n-   **PDFs**: `raw/foia_pdfs/` - Original scanned documents\n-   **HTML**: `raw/foia_html/` - OCR'd versions for easier extraction\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓  7 per-state files:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  • California \n  • Florida \n  • Indiana \n  • Maine \n  • Nevada \n  • South Dakota \n  • Texas \n```\n\n\n:::\n:::\n\n\n## Processing workflow\n\nFor transparency, each state file is processed independently then merged\ninto a single **combined long‑format table (`foia_combined`)**:\n\n1.  **Load one file per state** from `data/foia/intermediate/`.\n\n2.  **Append** its rows to `foia_combined`. A parallel dataframe,\n    **`foia_state_metadata`**, records what each state reported (counts,\n    percentages, which categories) and any state-specific\n    characteristics (e.g. Nevada's \"flags\" terminology).\n\n3.  **Quality‑check each state**:\n\n    -   verify that race and gender percentages sum to ≈ 100 % when\n        provided,\n    -   confirm that demographic counts sum to the state's reported\n        total profiles,\n    -   **calculate** any missing counts or percentages and tag those\n        rows `value_source = \"calculated\"`.\n\n4.  **Save outputs**\n\n    -   `data/foia/final/foia_data_clean.csv` — the fully combined tidy\n        table with both reported and calculated values,\n    -   `data/foia/intermediate/foia_state_metadata.csv` — one row per state\n        summarising coverage and caveats. After QC passes, freeze\n        `foia_data_clean.csv` to `data/v1.0/FOIA_demographics.csv`.\n\n## Helper Functions\n\nThe functions below perform each transformation required for harmonizing\nthe state‑level FOIA tables.\n\n### Data Processing Helper Functions Reference\n\n| Function | Definition | Parameters |\n|:-----------------------|:-----------------------|:-----------------------|\n| `load_state()` | Loads and preprocesses state FOIA data files, handling numeric conversion and validation | `path`: File path to state CSV |\n| `enhanced_glimpse()` | Provides an enhanced data overview with column types, missing values, unique counts, and unique values | `df`: Input dataframe |\n| `fill_demographic_gaps()` | Fills missing gender counts and adds Unknown race category when totals permit calculation | `df`: Input dataframe |\n| `add_combined()` | Creates Combined offender type by summing Convicted Offender and Arrestee counts when missing | `df`: Input dataframe |\n| `add_percentages()` | Derives percentage values from counts for all demographic categories | `df`: Input dataframe |\n| `counts_consistent()` | Verifies that demographic counts sum to total_profiles for each offender type | `df`: Input dataframe |\n| `percentages_consistent()` | Verifies that percentages sum to 100 ± 0.5% for each category | `df`: Input dataframe |\n| `report_status()` | Reports what data types (counts/percentages/both) are available for a category | `df`: Input dataframe, `category`: race or gender |\n| `verify_category_totals()` | Compares demographic sums against reported totals and shows differences | `df`: Input dataframe |\n| `verify_percentage_consistency()` | Compares reported vs calculated percentages for consistency | `df_combined`: Combined dataframe, `state_name`: State name |\n| `calculate_combined_totals()` | Calculates Combined totals by summing across offender types | `df`: Input dataframe, `state_name`: State name |\n| `calculate_percentages()` | Calculates percentages from counts for demographic categories | `df_combined`: Combined dataframe, `state_name`: State name |\n| `calculate_counts_from_percentages()` | Calculates counts from percentages for demographic categories | `df_combined`: Combined dataframe, `state_name`: State name |\n| `standardize_offender_types()` | Standardizes offender type names to consistent terminology | `df`: Input dataframe |\n| `prepare_state_for_combined()` | Prepares state data for inclusion in combined dataset with proper columns | `df`: Input dataframe, `state_name`: State name |\n| `format_compact()` | Formats large numbers with K/M suffixes for readability | `x`: Numeric value |\n| `create_pie_chart()` | Creates pie charts for specific demographic categories | `data`: Input data, `offender_type`, `category`, `value_type`, `title`, `show_values` |\n| `create_state_visualizations()` | Creates comprehensive pie chart visualizations for all metrics | `df_combined`: Combined dataframe, `state_name`: State name |\n| `create_demographic_bar_charts()` | Creates side-by-side bar charts for gender and race distributions | `df_combined`: Combined dataframe, `state_name`: State name |\n| `add_state_metadata()` | Creates and appends a metadata record capturing state data characteristics including available offender types, demographic categories, data formats, and special features | `df`: Input dataframe, `state_name`: State name |\n| `update_state_metadata()` | Modifies existing state metadata to update QC results (count/percentage consistency) and append validation notes | `state_name`: State name, `counts_ok`: Count consistency flag, `percentages_ok`: Percentage consistency flag, `notes_text`: Additional notes |\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Helper functions setup --\n\n# Columns retained from every raw table\nCOLS_NEEDED <- c(\"state\", \"offender_type\", \"variable_category\",\n                 \"variable_detailed\", \"value\", \"value_type\")\n\n# ------------------------------------------------------------------\n# 1. Load and preprocess state files\n# ------------------------------------------------------------------\nload_state <- function(path) {\n  \"\n  Read a *_foia_data.csv* file, enforce column order,\n  and convert <1 to 0.5 so that trace counts are retained.\n  Execution halts if non-numeric values remain.\n  \"\n  df <- read_csv(path, show_col_types = FALSE)\n  if (!\"state\" %in% colnames(df)) {\n    df <- df %>%\n      mutate(state = str_remove(basename(path), \"_foia_data\\\\.csv\") %>%\n        str_replace_all(\"_\", \" \") %>%\n        tools::toTitleCase())\n  }\n  df <- df %>% select(all_of(COLS_NEEDED))\n  df$value_source <- \"reported\"\n\n  df <- df %>%\n    mutate(value = ifelse(value == \"<1\", 0.5, value),\n           value = as.numeric(value))\n  \n  nonnumeric <- df %>% filter(is.na(value))\n  if (nrow(nonnumeric) > 0) {\n    cat(paste(\"**Non-numeric rows in\", basename(path), \"; please amend**\\n\"))\n    print(nonnumeric)\n    stop(\"Numeric coercion failure\")\n  }\n  return(df)\n}\n\n\n# ------------------------------------------------------------------\n# 2. Enhanced glimpse\n# ------------------------------------------------------------------\n# Display data types for each column with unique values\nenhanced_glimpse <- function(df) {\n  glimpse_data <- data.frame(\n    Column = names(df),\n    Type = sapply(df, function(x) paste(class(x), collapse = \", \")),\n    Rows = nrow(df),\n    Missing = sapply(df, function(x) sum(is.na(x))),\n    Unique = sapply(df, function(x) length(unique(x))),\n    Unique_Values = sapply(df, function(x) {\n      unique_vals <- unique(x)\n      if (length(unique_vals) > 10) {\n        paste(encodeString(as.character(unique_vals[1:10])), collapse = \", \", \"...\")\n      } else {\n        paste(encodeString(as.character(unique_vals)), collapse = \", \")\n      }\n    })\n  )\n  \n  ft <- flextable(glimpse_data) %>%\n    theme_zebra() %>%\n    set_caption(paste(\"Enhanced Data Glimpse:\", deparse(substitute(df)))) %>%\n    autofit() %>%\n    align(align = \"left\", part = \"all\") %>%\n    colformat_num(j = c(\"Rows\", \"Missing\", \"Unique\"), big.mark = \"\") %>%\n    bg(j = \"Missing\", bg = function(x) ifelse(x > 0, \"#FFF3CD\", \"transparent\")) %>%\n    bg(j = \"Unique\", bg = function(x) ifelse(x == 1, \"#FFF3CD\", \"transparent\")) %>%\n    add_footer_lines(paste(\"Data frame dimensions:\", nrow(df), \"rows ×\", ncol(df), \"columns\")) %>%\n    fontsize(size = 10, part = \"all\") %>%\n    set_table_properties(layout = \"autofit\", width = 1)\n  \n  return(ft)\n}\n\n# ------------------------------------------------------------------\n# 3. Fill missing Male counts and Unknown race counts\n# ------------------------------------------------------------------\nfill_demographic_gaps <- function(df) {\n  \"If exactly one gender or the Unknown race category is absent and\n  totals permit a residual, calculate and insert the missing count.\n  \"\n  inserts <- list()\n  \n  for (ot in unique(df$offender_type)) {\n    tot <- df %>%\n      filter(offender_type == ot,\n             variable_category == \"total\",\n             variable_detailed == \"total_profiles\",\n             value_type == \"count\")\n    \n    if (nrow(tot) == 0) next\n    \n    total <- tot$value[1]\n    \n    # gender residual ----------------------------------------------\n    g <- df %>%\n      filter(offender_type == ot,\n             variable_category == \"gender\",\n             value_type == \"count\")\n    \n    missing_gender <- setdiff(c(\"Male\", \"Female\"), unique(g$variable_detailed))\n    if (nrow(g) == 1 && length(missing_gender) == 1) {\n      inserts[[length(inserts) + 1]] <- tibble(\n        state = df$state[1],\n        offender_type = ot,\n        variable_category = \"gender\",\n        variable_detailed = missing_gender,\n        value = total - sum(g$value),\n        value_type = \"count\",\n        value_source = \"calculated\"\n      )\n    }\n    \n    # race residual -----------------------------------------------\n    r <- df %>%\n      filter(offender_type == ot,\n             variable_category == \"race\",\n             value_type == \"count\")\n    \n    if (nrow(r) > 0 && !\"Unknown\" %in% r$variable_detailed) {\n      gap <- total - sum(r$value)\n      if (gap > 0) {\n        inserts[[length(inserts) + 1]] <- tibble(\n          state = df$state[1],\n          offender_type = ot,\n          variable_category = \"race\",\n          variable_detailed = \"Unknown\",\n          value = gap,\n          value_type = \"count\",\n          value_source = \"calculated\"\n        )\n      }\n    }\n  }\n  \n  if (length(inserts) > 0) {\n    df <- bind_rows(df, bind_rows(inserts))\n  }\n  return(df)\n}\n\n# ------------------------------------------------------------------\n# 4. Construct Combined offender type if absent (add_combined)\n# ------------------------------------------------------------------\nadd_combined <- function(df) {\n  \"\n  When a state reports Convicted Offender and Arrestee counts but\n  omits Combined, create a Combined block by summing the two.\n  \"\n  if (\"Combined\" %in% df$offender_type) return(df)\n  \n  required <- c(\"Convicted Offender\", \"Arrestee\")\n  if (!all(required %in% df$offender_type)) return(df)  # cannot construct\n  \n  summed <- df %>%\n    filter(value_type == \"count\") %>%\n    group_by(variable_category, variable_detailed, value_type) %>%\n    summarise(value = sum(value), .groups = \"drop\") %>%\n    mutate(state = df$state[1],\n           offender_type = \"Combined\",\n           value_source = \"calculated\")\n  \n  return(bind_rows(df, summed))\n}\n\n# ------------------------------------------------------------------\n# 5. Derive percentages wherever only counts exist (add_percentages)\n# ------------------------------------------------------------------\nadd_percentages <- function(df) {\n  \"\n  Ensure that every gender and race row has both count and percentage\n  values, derived from the offender-type total if necessary.\n  \"\n  totals <- df %>%\n    filter(variable_category == \"total\",\n           variable_detailed == \"total_profiles\",\n           value_type == \"count\") %>%\n    select(offender_type, value) %>%\n    deframe()\n  \n  need_pct <- df %>%\n    filter(value_type == \"count\",\n           variable_category != \"total\")\n  \n  new_pct_rows <- need_pct %>%\n    rowwise() %>%\n    mutate(has_percentage = nrow(df %>%\n           filter(state == state,\n                  offender_type == offender_type,\n                  variable_category == variable_category,\n                  variable_detailed == variable_detailed,\n                  value_type == \"percentage\"))) %>%\n    filter(has_percentage == 0) %>%\n    mutate(value = round(value / totals[offender_type] * 100, 2),\n           value_type = \"percentage\",\n           value_source = \"calculated\") %>%\n    select(-has_percentage)\n  \n  if (nrow(new_pct_rows) > 0) {\n    df <- bind_rows(df, new_pct_rows)\n  }\n  return(df)\n}\n\n# ------------------------------------------------------------------\n# 6. Counts consistency checks\n# ------------------------------------------------------------------\ncounts_consistent <- function(df) {\n  \"\n  Verifies that demographic counts sum to total_profiles for each\n  offender type and category.\n  \"\n  demo_sum <- df %>%\n    filter(value_type == \"count\",\n           variable_category != \"total\") %>%\n    group_by(offender_type, variable_category) %>%\n    summarise(sum_value = sum(value), .groups = \"drop\")\n  \n  totals <- df %>%\n    filter(variable_category == \"total\",\n           variable_detailed == \"total_profiles\",\n           value_type == \"count\") %>%\n    select(offender_type, value)\n  \n  merged <- demo_sum %>%\n    left_join(totals, by = \"offender_type\") %>%\n    mutate(diff = abs(sum_value - value))\n  \n  all(merged$diff < 1e-6)\n}\n\n# ------------------------------------------------------------------\n# 7. Percentage consistency checks\n# ------------------------------------------------------------------\n\npercentages_consistent <- function(df) {\n  \"\n  Verifies that derived or reported percentages sum to 100 ± 0.5 %.\n  \"\n  result <- df %>%\n    filter(value_type == \"percentage\") %>%\n    group_by(offender_type, variable_category) %>%\n    summarise(sum_value = sum(value), .groups = \"drop\") %>%\n    mutate(consistent = abs(sum_value - 100) <= 0.5)\n  \n  all(result$consistent)\n}\n\n\n# ------------------------------------------------------------------\n# 8. Report status for each category\n# ------------------------------------------------------------------\n\n# Define columns needed for foia_combined\nreport_status <- function(df, category) {\n  values <- unique(df$value_type[df$variable_category == category])\n  \n  if (all(c(\"count\", \"percentage\") %in% values)) {\n    return(\"both\")\n  } else if (\"count\" %in% values) {\n    return(\"counts\")\n  } else if (\"percentage\" %in% values) {\n    return(\"percentages\")\n  } else {\n    return(\"neither\")\n  }\n}\n\n# ------------------------------------------------------------------\n# 9. Verify category totals\n# ------------------------------------------------------------------\n\nverify_category_totals <- function(df) {\n  # 1 pull total_profiles per offender_type\n  total_map <- df %>%\n    filter(variable_category == \"total\", \n           variable_detailed == \"total_profiles\") %>%\n    select(offender_type, value) %>%\n    deframe() %>%\n    as.list()\n  \n  # 2 sum counts by offender_type and variable_category\n  demo_sum <- df %>%\n    filter(value_type == \"count\",\n           variable_category != \"total\") %>%\n    group_by(offender_type, variable_category) %>%\n    summarise(sum_counts = sum(value, na.rm = TRUE), .groups = \"drop\")\n  \n  # 3 attach total_profiles and compute difference\n  demo_sum <- demo_sum %>%\n    mutate(total_profiles = map_dbl(offender_type, ~total_map[[.x]]),\n           difference = total_profiles - sum_counts)\n  \n  # tidy columns order\n  demo_sum %>%\n    select(offender_type, variable_category, total_profiles, \n           sum_counts, difference)\n}\n\n# ------------------------------------------------------------------\n# 10. Calculate Combined totals\n# ------------------------------------------------------------------\n\ncalculate_combined_totals <- function(df, state_name) {\n  # Get all counts\n  counts_df <- df %>%\n    filter(value_type == 'count') %>%\n    mutate(value_source = 'calculated')\n  \n  # Group by variable_category and variable_detailed, sum values\n  combined_sums <- counts_df %>%\n    group_by(variable_category, variable_detailed) %>%\n    summarise(value = sum(value, na.rm = TRUE), .groups = \"drop\")\n  \n  # Create Combined rows\n  combined_rows <- combined_sums %>%\n    mutate(state = state_name,\n           offender_type = 'Combined',\n           value_type = 'count',\n           value_source = 'calculated') %>%\n    select(all_of(COLS_NEEDED), value_source)\n  \n  return(combined_rows)\n}\n\n# ------------------------------------------------------------------\n# 11. Calculate percentages from counts\n# ------------------------------------------------------------------\n\ncalculate_percentages <- function(df_combined, state_name) {\n  # Get total profiles for each offender type\n  totals_map <- df_combined %>%\n    filter(state == state_name,\n           variable_category == 'total',\n           variable_detailed == 'total_profiles') %>%\n    select(offender_type, value) %>%\n    deframe() %>%\n    as.list()\n  \n  percentage_rows <- list()\n  \n  for (offender_type in names(totals_map)) {\n    total <- totals_map[[offender_type]]\n    \n    # Get all demographic counts\n    demo_data <- df_combined %>%\n      filter(state == state_name,\n             offender_type == !!offender_type,\n             variable_category %in% c('gender', 'race'),\n             value_type == 'count')\n    \n    if (nrow(demo_data) > 0) {\n      # Calculate percentage for each\n      demo_percentages <- demo_data %>%\n        mutate(value = round((value / total) * 100, 2),\n               value_type = 'percentage',\n               value_source = 'calculated') %>%\n        select(all_of(COLS_NEEDED), value_source)\n      \n      percentage_rows <- c(percentage_rows, list(demo_percentages))\n    }\n  }\n  \n  bind_rows(percentage_rows)\n}\n\n# ------------------------------------------------------------------\n# 12. Calculate counts from percentages\n# ------------------------------------------------------------------\n\ncalculate_counts_from_percentages <- function(df_combined, state_name) {\n  # Get total profiles for each offender type\n  totals_map <- df_combined %>%\n    filter(state == state_name,\n           variable_category == 'total',\n           variable_detailed == 'total_profiles') %>%\n    select(offender_type, value) %>%\n    deframe() %>%\n    as.list()\n  \n  count_rows <- list()\n  \n  for (offender_type in names(totals_map)) {\n    total <- totals_map[[offender_type]]\n    \n    # Get all demographic percentages\n    demo_data <- df_combined %>%\n      filter(state == state_name,\n             offender_type == !!offender_type,\n             variable_category %in% c('gender', 'race'),\n             value_type == 'percentage')\n    \n    if (nrow(demo_data) > 0) {\n      # Calculate count for each\n      demo_counts <- demo_data %>%\n        mutate(value = as.integer(round(total * (value / 100))),\n               value_type = 'count',\n               value_source = 'calculated') %>%\n        select(all_of(COLS_NEEDED), value_source)\n      \n      count_rows <- c(count_rows, list(demo_counts))\n    }\n  }\n  \n  bind_rows(count_rows)\n}\n\n# ------------------------------------------------------------------\n# 13. Standardize offender types\n# ------------------------------------------------------------------\n\nstandardize_offender_types <- function(df) {\n  replacements <- c(\n    'Offenders' = 'Convicted Offender',\n    'Convicted offenders' = 'Convicted Offender',\n    'Arrested offender' = 'Arrestee',\n    'All' = 'Combined'\n  )\n  \n  df %>%\n    mutate(offender_type = recode(offender_type, !!!replacements))\n}\n\n# ------------------------------------------------------------------\n# 14. Prepare state data for combined dataset\n# ------------------------------------------------------------------\n\nprepare_state_for_combined <- function(df, state_name) {\n  \n  df_prepared <- df %>%\n    select(any_of(COLS_NEEDED), value_source)\n  \n  df_prepared <- df_prepared %>%\n      mutate(value_source = case_when(\n        is.na(value_source) ~ \"calculated\",\n        value_source == \"\" ~ \"calculated\",\n        TRUE ~ value_source\n      ))\n\n  \n  df_prepared\n}\n\n# ------------------------------------------------------------------\n# 15. Compare reported vs calculated percentages\n# ------------------------------------------------------------------\n\nverify_percentage_consistency <- function(df_combined, state_name) {\n  state_data <- df_combined %>%\n    filter(state == state_name)\n  \n  # Get all offender types that have both counts and percentages\n  offender_types <- unique(state_data$offender_type)\n  \n  consistency_results <- list()\n  \n  for (offender_type in offender_types) {\n    offender_data <- state_data %>%\n      filter(offender_type == !!offender_type)\n    \n    # Check if we have both reported and calculated percentages\n    for (category in c('gender', 'race')) {\n      reported_pcts <- offender_data %>%\n        filter(variable_category == !!category,\n               value_type == 'percentage',\n               value_source == 'reported')\n      \n      calculated_pcts <- offender_data %>%\n        filter(variable_category == !!category,\n               value_type == 'percentage',\n               value_source == 'calculated')\n      \n      if (nrow(reported_pcts) > 0 && nrow(calculated_pcts) > 0) {\n        # Compare each demographic value\n        for (i in 1:nrow(reported_pcts)) {\n          rep_row <- reported_pcts[i, ]\n          calc_match <- calculated_pcts %>%\n            filter(variable_detailed == rep_row$variable_detailed)\n          \n          if (nrow(calc_match) > 0) {\n            diff <- abs(rep_row$value - calc_match$value[1])\n            consistency_results <- c(consistency_results, list(data.frame(\n              offender_type = offender_type,\n              category = category,\n              variable = rep_row$variable_detailed,\n              reported = rep_row$value,\n              calculated = calc_match$value[1],\n              difference = diff,\n              consistent = diff < 0.5\n            )))\n          }\n        }\n      }\n    }\n  }\n  \n  if (length(consistency_results) > 0) {\n    consistency_df <- bind_rows(consistency_results)\n    cat(paste0(\"\\nPercentage consistency check for \", state_name, \":\\n\"))\n    cat(paste0(\"All values consistent: \", all(consistency_df$consistent), \"\\n\"))\n    \n    if (!all(consistency_df$consistent)) {\n      cat(\"\\nInconsistent values:\\n\")\n      print(consistency_df %>% filter(!consistent))\n    }\n    \n    return(all(consistency_df$consistent))\n  } else {\n    # No comparison possible - state only has one type of data\n    return(TRUE)\n  }\n}\n# ------------------------------------------------------------------\n# 16. Add compact formatting for large numbers\n# ------------------------------------------------------------------\n\nformat_compact <- function(x) {\n  sapply(x, function(single_x) {\n    if (single_x >= 1000000) {\n      if (single_x/1000000 == as.integer(single_x/1000000)) {\n        return(paste0(as.integer(single_x/1000000), \"M\"))\n      } else {\n        return(paste0(round(single_x/1000000, 1), \"M\"))\n      }\n    } else if (single_x >= 1000) {\n      return(paste0(as.integer(single_x/1000), \"k\"))\n    } else {\n      return(paste0(as.integer(single_x)))\n    }\n  })\n}\n\n# ------------------------------------------------------------------\n# 17. Pie chart creation function\n# ------------------------------------------------------------------\n\ncreate_pie_chart <- function(data, offender_type, category, value_type, title, show_values = FALSE) {\n  chart_data <- data %>%\n    filter(offender_type == !!offender_type,\n           variable_category == !!category,\n           value_type == !!value_type)\n  \n  # Check if we have data after filtering\n  if (nrow(chart_data) == 0) {\n    plot.new()\n    title(main = title, cex.main = 0.9)\n    text(0.5, 0.5, \"No data\", cex = 0.8)\n    return()\n  }\n  \n  # AGGREGATE DATA TO REMOVE DUPLICATES - KEY FIX\n  chart_data <- chart_data %>%\n    group_by(variable_detailed) %>%\n    summarise(value = sum(value, na.rm = TRUE)) %>%\n    ungroup()\n  \n  # Ensure consistent categories\n  if (category == 'gender') {\n    all_genders <- data.frame(variable_detailed = c('Male', 'Female', 'Unknown'))\n    chart_data <- chart_data %>%\n      right_join(all_genders, by = \"variable_detailed\") %>%\n      mutate(value = ifelse(is.na(value), 0, value)) %>%\n      arrange(factor(variable_detailed, levels = c('Male', 'Female', 'Unknown')))\n  } else if (category == 'race') {\n    all_races <- data.frame(variable_detailed = c('White', 'Black', 'Hispanic', \n                                                 'Asian', 'Native American',\n                                                  'Other', 'Unknown'))\n    chart_data <- chart_data %>%\n      right_join(all_races, by = \"variable_detailed\") %>%\n      mutate(value = ifelse(is.na(value), 0, value)) %>%\n      arrange(factor(variable_detailed, levels = c('White', 'Black', 'Hispanic', \n                                                  'Asian', 'Native American',\n                                                   'Other', 'Unknown')))\n  }\n  \n  # Filter out zero values and ensure we have data\n  chart_data <- chart_data %>% filter(value > 0)\n  \n  if (nrow(chart_data) == 0) {\n    plot.new()\n    title(main = title, cex.main = 0.9)\n    text(0.5, 0.5, \"No data\", cex = 0.8)\n    return()\n  }\n  \n  # Define colors\n  if (category == 'gender') {\n    colors <- c('Male' = '#4E79A7', 'Female' = '#E15759', 'Unknown' = '#BAB0AC')\n  } else {\n    colors <- c('White' = '#4E79A7', 'Black' = '#F25E2B', 'Hispanic' = '#E14759',\n               'Asian' = '#76B7B2', 'Native American' = '#59A14F',\n               'Other' = '#9C755F', 'Unknown' = '#BAB0AC')\n  }\n  \n  # Filter colors to only include categories present in data\n  pie_colors <- colors[names(colors) %in% chart_data$variable_detailed]\n  \n  # Calculate percentages\n  total_value <- sum(chart_data$value)\n  chart_data <- chart_data %>%\n    mutate(pct = value / total_value * 100)\n  \n  # Create labels based on value_type and show_values\n  if (show_values && value_type == 'count') {\n    chart_data <- chart_data %>%\n      mutate(base_label = paste0(variable_detailed, \"\\n(\",\n      format(value, big.mark = \",\"), \")\"))\n  } else if (value_type == 'percentage') {\n    chart_data <- chart_data %>%\n      mutate(base_label = paste0(variable_detailed, \"\\n(\", round(value, 1), \"%)\"))\n  } else {\n    chart_data <- chart_data %>%\n      mutate(base_label = variable_detailed)\n  }\n  \n  # Only show labels for slices >= 3%, otherwise empty string\n  chart_data <- chart_data %>%\n    mutate(label = ifelse(pct >= 3, base_label, \"\"))\n  \n  # Create the pie chart\n  pie(chart_data$value, \n      labels = chart_data$label,\n      main = title,\n      col = pie_colors,\n      cex.main = 0.9,\n      cex = 0.8)\n  \n  # Add legend for small slices\n  small_slices <- chart_data %>% filter(pct < 3)\n  if (nrow(small_slices) > 0) {\n    legend_labels <- paste0(small_slices$variable_detailed, \" (\",\n     round(small_slices$pct, 1), \"%)\")\n    legend_colors <- pie_colors[small_slices$variable_detailed]\n    \n    legend(\"bottomright\", \n           legend = legend_labels,\n           fill = legend_colors,\n           cex = 0.7,\n           bty = \"n\")\n  }\n}\n\n# ------------------------------------------------------------------\n# 18. State visualizations with 2 pies per row\n# ------------------------------------------------------------------\n\ncreate_state_visualizations <- function(df_combined, state_name) {\n  state_data <- df_combined %>% filter(state == state_name)\n  \n  offender_types <- sort(unique(state_data$offender_type))\n  plots <- list()\n  \n  for (offender_type in offender_types) {\n    plots <- c(plots, list(\n      create_pie_chart(state_data, offender_type, 'gender', 'count',\n                       paste(offender_type, \"Gender Counts\"), TRUE),\n      create_pie_chart(state_data, offender_type, 'gender', 'percentage',\n                       paste(offender_type, \"Gender Percentages\")),\n      create_pie_chart(state_data, offender_type, 'race', 'count',\n                       paste(offender_type, \"Race Counts\"), TRUE),\n      create_pie_chart(state_data, offender_type, 'race', 'percentage',\n                       paste(offender_type, \"Race Percentages\"))\n    ))\n  }\n}\n\n# ------------------------------------------------------------------\n# 19. Demographic bar chart function\n# ------------------------------------------------------------------\n\ncreate_demographic_bar_charts <- function(df_combined, state_name) {\n  state_data <- df_combined %>%\n    filter(state == state_name)\n  \n  # Get offender types and ensure Combined is last\n  offender_types <- state_data %>%\n    filter(value_type == 'count') %>%\n    pull(offender_type) %>%\n    unique() %>%\n    sort()\n  \n  if ('Combined' %in% offender_types) {\n    offender_types <- c(setdiff(offender_types, 'Combined'), 'Combined')\n  }\n  \n  # Color palettes\n  gender_colors <- c('Male' = '#4E79A7', 'Female' = '#E15759',\n  'Unknown' = '#BAB0AC')\n  race_colors <- c(\n    'White' = '#4E79A7', \n    'Black' = '#F25E2B', \n    'Hispanic' = '#E14759',\n    'Asian' = '#76B7B2',\n    'Native American' = '#59A14F',\n    'Other' = '#9C755F',\n    'Unknown' = '#BAB0AC'\n  )\n  \n  # Gender data - ensure no duplicates by summing values\n  gender_data <- state_data %>%\n    filter(variable_category == 'gender',\n           value_type == 'count') %>%\n    group_by(offender_type, variable_detailed) %>%\n    summarize(value = sum(value, na.rm = TRUE), .groups = 'drop') %>%\n    complete(offender_type, variable_detailed = c('Male', 'Female', 'Unknown'), \n             fill = list(value = 0))\n  \n  # Race data - ensure no duplicates by summing values\n  race_data <- state_data %>%\n    filter(variable_category == 'race',\n           value_type == 'count') %>%\n    group_by(offender_type, variable_detailed) %>%\n    summarize(value = sum(value, na.rm = TRUE), .groups = 'drop') %>%\n    complete(offender_type, \n             variable_detailed = c('White', 'Black', 'Hispanic', \n                                  'Asian', 'Native American', 'Other', 'Unknown'), \n             fill = list(value = 0))\n  \n  # Create separate plots - one per row\n  par(mfrow = c(2, 1), mar = c(5, 9, 4, 9), oma = c(0, 0, 2, 0))\n  \n  # Gender plot - ordered by total volume\n  gender_plot_data <- gender_data %>%\n    filter(variable_detailed %in% c('Male', 'Female', 'Unknown')) %>%\n    mutate(offender_type = factor(offender_type, levels = rev(offender_types)))\n  \n  # Order gender categories by total volume (largest at bottom)\n  gender_order <- gender_plot_data %>%\n    group_by(variable_detailed) %>%\n    summarize(total = sum(value)) %>%\n    arrange(total) %>%\n    pull(variable_detailed)\n  \n  gender_plot_data <- gender_plot_data %>%\n    mutate(variable_detailed = factor(variable_detailed, levels = gender_order))\n  \n  # Reshape for barplot\n  gender_matrix <- gender_plot_data %>%\n    pivot_wider(names_from = variable_detailed, values_from = value) %>%\n    as.data.frame() %>%\n    column_to_rownames(\"offender_type\") %>%\n    as.matrix()\n  \n  # Ensure all columns exist\n  for (gender in gender_order) {\n    if (!gender %in% colnames(gender_matrix)) {\n      gender_matrix <- cbind(gender_matrix, temp = 0)\n      colnames(gender_matrix)[ncol(gender_matrix)] <- gender\n    }\n  }\n  \n  # Reorder columns by volume\n  gender_matrix <- gender_matrix[, as.character(gender_order), drop = FALSE]\n  \n  # Format x-axis labels with \"k\" for thousands\n  max_x <- max(rowSums(gender_matrix))\n  x_breaks <- pretty(c(0, max_x))\n  x_labels <- ifelse(x_breaks >= 1000, \n                    paste0(x_breaks/1000, \"k\"), \n                    as.character(x_breaks))\n  \n  barplot(t(gender_matrix), \n          horiz = TRUE,\n          las = 1,\n          col = gender_colors[colnames(gender_matrix)],\n          main = 'Gender Distribution',\n          xlab = 'Number of Profiles',\n          xaxt = 'n',  # Remove default x-axis\n          legend.text = FALSE,  # Don't show legend in plot area\n          args.legend = list(x = \"right\", bty = \"n\", inset = c(-0.2, 0)))\n  \n  # Add custom x-axis with formatted labels\n  axis(1, at = x_breaks, labels = x_labels)\n  \n  # Add legend outside the plot area\n  legend(\"topright\", \n         legend = colnames(gender_matrix), \n         fill = gender_colors[colnames(gender_matrix)],\n         bty = \"n\", \n         xpd = TRUE,  # Allow plotting outside main area\n         inset = c(-0.25, 0),  # Move legend to the right\n         cex = 0.8)\n  \n  # Race plot - ordered by total volume\n  race_plot_data <- race_data %>%\n    mutate(offender_type = factor(offender_type, levels = rev(offender_types)))\n  \n  # Order race categories by total volume (largest at bottom)\n  race_order <- race_plot_data %>%\n    group_by(variable_detailed) %>%\n    summarize(total = sum(value)) %>%\n    arrange(total) %>%\n    pull(variable_detailed)\n  \n  race_plot_data <- race_plot_data %>%\n    mutate(variable_detailed = factor(variable_detailed, levels = race_order))\n  \n  # Reshape for barplot\n  race_matrix <- race_plot_data %>%\n    pivot_wider(names_from = variable_detailed, values_from = value) %>%\n    as.data.frame() %>%\n    column_to_rownames(\"offender_type\") %>%\n    as.matrix()\n  \n  # Ensure all columns exist\n  for (race in race_order) {\n    if (!race %in% colnames(race_matrix)) {\n      race_matrix <- cbind(race_matrix, temp = 0)\n      colnames(race_matrix)[ncol(race_matrix)] <- race\n    }\n  }\n  \n  # Reorder columns by volume\n  race_matrix <- race_matrix[, as.character(race_order), drop = FALSE]\n  \n  # Format x-axis labels with \"k\" for thousands\n  max_x_race <- max(rowSums(race_matrix))\n  x_breaks_race <- pretty(c(0, max_x_race))\n  x_labels_race <- ifelse(x_breaks_race >= 1000, \n                         paste0(x_breaks_race/1000, \"k\"), \n                         as.character(x_breaks_race))\n  \n  barplot(t(race_matrix), \n          horiz = TRUE,\n          las = 1,\n          col = race_colors[colnames(race_matrix)],\n          main = 'Race Distribution',\n          xlab = 'Number of Profiles',\n          xaxt = 'n',  # Remove default x-axis\n          legend.text = FALSE)  # Don't show legend in plot area\n  \n  # Add custom x-axis with formatted labels\n  axis(1, at = x_breaks_race, labels = x_labels_race)\n  \n  # Add legend outside the plot area\n  legend(\"topright\", \n         legend = colnames(race_matrix), \n         fill = race_colors[colnames(race_matrix)],\n         bty = \"n\", \n         xpd = TRUE,  # Allow plotting outside main area\n         inset = c(-0.25, 0),  # Move legend to the right\n         cex = 0.8)\n  \n  title(paste(state_name, \"Demographic Distribution\"),\n   outer = TRUE, cex.main = 1.5)\n}\n\n# ------------------------------------------------------------------\n# 20. Add state's metadata\n# ------------------------------------------------------------------\n\nadd_state_metadata <- function(state_name, state_df) {\n  \n  raw_data <- state_df %>% filter(value_source == \"reported\")\n  offender_types_reported <- unique(raw_data$offender_type)\n  \n  has_unknown <- any(raw_data$variable_detailed == \"Unknown\", na.rm = TRUE)\n  has_other <- any(raw_data$variable_detailed == \"Other\", na.rm = TRUE)\n  has_crosstab <- any(raw_data$variable_category == \"gender_race\", na.rm = TRUE)\n  \n  nonstandard_terms <- any(\n    grepl(\"All|Offenders\", raw_data$offender_type, ignore.case = TRUE),\n    grepl(\"Caucasian|African American| American Indian\", \n    raw_data$variable_detailed, ignore.case = TRUE),\n    grepl(\"flag\", raw_data$variable_detailed, ignore.case = TRUE))\n  \n  new_row <- tibble(\n    state = state_name,\n    race_data_provided = report_status(raw_data, \"race\"),\n    gender_data_provided = report_status(raw_data, \"gender\"),\n    total_profiles_provided = report_status(\n      raw_data %>% filter(variable_category == \"total\"), \"total\"\n    ),\n    convicted_offender_reported = \"Convicted Offender\" %in% offender_types_reported,\n    arrestee_reported = \"Arrestee\" %in% offender_types_reported,\n    combined_reported = \"Combined\" %in% offender_types_reported,\n    has_unknown_category = has_unknown,\n    has_other_category = has_other,\n    uses_nonstandard_terminology = nonstandard_terms,\n    provides_crosstabulation = has_crosstab,\n    counts_sum_to_total = NA,\n    percentages_sum_to_100 = NA,\n    total_calculated_combined = !(\"Combined\" %in% offender_types_reported),\n    notes = \"\"\n  )\n  \n  foia_state_metadata <<- bind_rows(foia_state_metadata, new_row)\n  \n  cat(\"✓ Metadata added for:\", state_name, \"\\n\")\n  return(invisible(TRUE))\n}\n\n# ------------------------------------------------------------------\n# 21. Function to update a state's metadata after QC checks\n# ------------------------------------------------------------------\nupdate_state_metadata <- function(state_name, \n                                  counts_ok = NA, \n                                  percentages_ok = NA, \n                                  notes_text = NULL) {\n  \n  row_index <- which(foia_state_metadata$state == state_name)\n  \n  if (length(row_index) == 0) {\n    warning(\"State not found in metadata: \", state_name)\n    return(FALSE)\n  }\n  \n  if (!is.na(counts_ok)) {\n    foia_state_metadata$counts_sum_to_total[row_index] <<- counts_ok\n  }\n  if (!is.na(percentages_ok)) {\n    foia_state_metadata$percentages_sum_to_100[row_index] <<- percentages_ok\n  }\n  if (!is.null(notes_text)) {\n    current_notes <- foia_state_metadata$notes[row_index]\n    if (current_notes == \"\") {\n      foia_state_metadata$notes[row_index] <<- notes_text\n    } else {\n      foia_state_metadata$notes[row_index] <<- paste(current_notes,\n       notes_text, sep = \"; \")\n    }\n  }\n  \n  cat(\"✓ Metadata updated for:\", state_name, \"\\n\")\n}\n```\n:::\n\n\n## File Structure and Contents\n\n### State-Specific Files: `data/foia/intermediate/[state]_foia_data.csv`\n\n**Purpose**: Individual files for each state containing only their\nreported data.\n\n**Structure**: Long format with columns:\n\n-   `state`: State name\n-   `offender_type`: Category of individuals (Convicted Offender,\n    Arrestee, Combined, etc.)\n-   `variable_category`: Type of data (total, gender, race, gender_race)\n-   `variable_detailed`: Specific value (e.g., Male, Female, African\n    American)\n-   `value`: The reported number or percentage\n-   `value_type`: Whether value is a \"count\" or \"percentage\"\n-   `date`: Date of data snapshot, if reported\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Per-state files loading code --\n\nca_raw <- load_state(here(per_state, \"california_foia_data.csv\"))\nfl_raw <- load_state(here(per_state, \"florida_foia_data.csv\"))\nin_raw <- load_state(here(per_state, \"indiana_foia_data.csv\"))\nme_raw <- load_state(here(per_state, \"maine_foia_data.csv\"))\nnv_raw <- load_state(here(per_state, \"nevada_foia_data.csv\"))\nsd_raw <- load_state(here(per_state, \"south_dakota_foia_data.csv\"))\ntx_raw <- load_state(here(per_state, \"texas_foia_data.csv\"))\n```\n:::\n\n\n\\forcebreak\n\n### Raw Data Characteristics\n\nThe following table summarizes the structure and content of the data as\noriginally received from each state prior to any standardization,\ncalculation, or processing.\n\n| State | Offender Types | Value Types | Total Profiles | Action Needed | Key Reporting Notes |\n|:-----------|:-----------|:-----------|:-----------|:-----------|:-----------|\n| **California** | CO, A | Counts only | Reported per offender type | Add Unknown Race, Calculate % & Combined, Standardize Terminology | Discrepancy in Race: counts \\< total profiles; Non-standard terminology (Caucasian and African American) |\n| **Florida** | COMB | Counts + % | Reported | Standardize Terminology | Non-standard terminology (Caucasian and African American) |\n| **Indiana** | CO, A, COMB | Percentage (Counts for totals only) | Reported per offender type | Calculate Counts & Total Profiles Combined, Fix % inconsistency, Standardize Terminology | Demographics only for Combined; `Other` race category as \"<1\"; Non-standard terminology (Caucasian) |\n| **Maine** | COMB | Counts + % | Reported | Solve counts and Percentage inconsistency |  |\n| **Nevada** | CO, A, COMB | Counts + % | Reported for all types | Standardize Terminology | Non-standard terminology (All, total_flags and American Indian) |\n| **South Dakota** | COMB | Counts + % | Reported | Standardize Terminology, Solve counts and % inconsistency | Includes gender×race cross-tabulation; Non-standard terminology |\n| **Texas** | CO, A | Counts only | Reported per offender type | Calculate Male counts, Solve counts inconsistency, Calculate % & Combined, Standardize Terminology| Only female gender was reported; Non-standard term (Offenders, Caucasian, and African American) |\n\n**Legend:**\n\n-   **CO:** Convicted Offender\n\n-   **AR:** Arrestee\n\n-   **COMB:** Combined Total (all profiles)\n\n-   **Counts + %:** Both raw numbers and percentages were provided\n\n## Prepare Combined Dataset\n\nThe goal of this step is to transform each state's raw data into a\nstandardized format before appending it to the master `foia_combined`\nDataFrame. This ensures consistency and enables seamless analysis across\nall seven states.\n\nThe ideal, standardized state dataset ready for combination must have\nthe following columns:\n\n| Column Name | Description | Example Values |\n|:-----------------------|:-----------------------|:-----------------------|\n| **`state`** | The name of the state. | `\"California\"`, `\"Florida\"` |\n| **`offender_type`** | The category of offender profile. | `\"Convicted Offender\"`, `\"Arrestee\"`, `\"Combined\"` |\n| **`variable_category`** | The broad demographic category. | `\"race\"`, `\"gender\"`, `\"total\"`, `\"gender_race\"` |\n| **`variable_detailed`** | The specific value within the category. | `\"White\"`, `\"Male\"`, `\"total_profiles\"`, `\"Male_White\"` |\n| **`value`** | The numerical value for the metric. | `150000`, `25.8` |\n| **`value_type`** | The type of metric the value represents. | `\"count\"`, `\"percentage\"` |\n| **`value_source`** | Whether the data was provided or derived. | `\"reported\"`, `\"calculated\"` |\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## Master foia_combined dataframe--\n\nfoia_combined <- tibble( state = character(),\noffender_type = character(),\nvariable_category = character(),\nvariable_detailed = character(), \nvalue = numeric(),\nvalue_type = character(),\nvalue_source = character()\n)\n```\n:::\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{|p{1.49in}|p{0.92in}|p{3.22in}}\n\n\n\n\\ascline{1.5pt}{666666}{1-3}\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 1.49in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Column\\ Name}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Data\\ Type}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 3.22in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Example\\ Values\\ to\\ be\\ added}}}} \\\\\n\n\\ascline{1.5pt}{666666}{1-3}\\endfirsthead \n\n\\ascline{1.5pt}{666666}{1-3}\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 1.49in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Column\\ Name}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Data\\ Type}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 3.22in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Example\\ Values\\ to\\ be\\ added}}}} \\\\\n\n\\ascline{1.5pt}{666666}{1-3}\\endhead\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 1.49in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{state}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 3.22in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{'California',\\ 'Florida'}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 1.49in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{offender\\_type}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 3.22in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{'Convicted\\ Offender',\\ 'Arrestee',\\ 'Combined'}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 1.49in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_category}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 3.22in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{'race',\\ 'gender',\\ 'total',\\ 'gender\\_race'}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 1.49in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_detailed}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 3.22in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{'White',\\ 'Male',\\ 'total\\_profiles',\\ 'Male\\_White'}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 1.49in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{value}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{numeric}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 3.22in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{150000,\\ 25.8}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 1.49in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_type}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 3.22in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{'count',\\ 'percentage'}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 1.49in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_source}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 3.22in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{'reported',\\ 'calculated'}}}} \\\\\n\n\\ascline{1.5pt}{666666}{1-3}\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n\n:::\n:::\n\n\n## Prepare Metadata Documentation Table\n\nThis section creates a comprehensive metadata table\n(**`foia_state_metadata`**) to document the original content and\nstructure of each state's FOIA response *before* any processing or\ncleaning was applied.\n\nThis serves as a permanent record of data provenance, ensuring\ntransparency and reproducibility by clearly distinguishing between what\nwas *provided* by the states and what was *calculated* during analysis.\n\n**Key Documentation Captured:**\n\n-   **Data Types Provided:** Whether each state reported counts,\n    percentages, or both for race, gender, and total profiles.\n\n-   **Offender Categories Reported:** Which offender types (Convicted\n    Offender, Arrestee, Combined) were originally included.\n\n-   **Demographic Granularity:** Presence of 'Unknown' or 'Other'\n    categories and gender-race cross-tabulations.\n\n-   **Terminology & Anomalies:** Use of non-standard terms (e.g.,\n    \"flags,\" \"offenders\") and other state-specific reporting notes.\n\n-   **QC Results:** Flags for whether cleaned data passes consistency\n    checks (counts sum to totals, percentages sum to \\~100%).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n## foia_state_metadata table elaboration code --\n\n# Define the full schema for our metadata table\nfoia_state_metadata <- tibble(\n  state = character(),\n  race_data_provided = character(),\n  gender_data_provided = character(),\n  total_profiles_provided = character(), \n  convicted_offender_reported = logical(),\n  arrestee_reported = logical(),\n  combined_reported = logical(),\n  has_unknown_category = logical(),\n  has_other_category = logical(),\n  uses_nonstandard_terminology = logical(),\n  provides_crosstabulation = logical(),\n  counts_sum_to_total = logical(),\n  percentages_sum_to_100 = logical(),\n  total_calculated_combined = logical(),\n  notes = character()\n)\n```\n:::\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{|p{2.42in}|p{0.92in}|p{4.01in}}\n\n\n\n\\ascline{1.5pt}{666666}{1-3}\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Column\\ Name}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Data\\ Type}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Meaning}}}} \\\\\n\n\\ascline{1.5pt}{666666}{1-3}\\endfirsthead \n\n\\ascline{1.5pt}{666666}{1-3}\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Column\\ Name}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Data\\ Type}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Meaning}}}} \\\\\n\n\\ascline{1.5pt}{666666}{1-3}\\endhead\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{state}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{State\\ name\\ (e.g.,\\ 'California',\\ 'Florida')}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{race\\_data\\_provided}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Race\\ data\\ availability:\\ 'counts',\\ 'percentages',\\ 'both'}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{gender\\_data\\_provided}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Gender\\ data\\ availability:\\ 'counts',\\ 'percentages',\\ 'both'}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{total\\_profiles\\_provided}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Total\\ profiles\\ availability:\\ 'counts',\\ 'percentages',\\ 'both'}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{convicted\\_offender\\_reported}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{logical}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Was\\ convicted\\ offender\\ data\\ reported?}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{arrestee\\_reported}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{logical}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Was\\ arrestee\\ data\\ reported?}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{combined\\_reported}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{logical}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Was\\ combined\\ category\\ reported?}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{has\\_unknown\\_category}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{logical}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Does\\ the\\ state\\ include\\ 'Unknown'\\ category?}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{has\\_other\\_category}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{logical}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Does\\ the\\ state\\ include\\ 'Other'\\ category?}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{uses\\_nonstandard\\_terminology}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{logical}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Does\\ the\\ state\\ use\\ non-standard\\ terms?}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{provides\\_crosstabulation}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{logical}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Does\\ the\\ state\\ provide\\ crosstabs\\ (e.g.,\\ gender\\ x\\ race)?}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{counts\\_sum\\_to\\_total}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{logical}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Do\\ reported\\ counts\\ sum\\ to\\ the\\ total?}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{percentages\\_sum\\_to\\_100}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{logical}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Do\\ reported\\ percentages\\ sum\\ to\\ \\textasciitilde 100\\%?}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{total\\_calculated\\_combined}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{logical}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Did\\ we\\ calculate\\ combined\\ total\\ manually?}}}} \\\\\n\n\n\n\n\n\\multicolumn{1}{>{\\raggedright}m{\\dimexpr 2.42in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{notes}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 0.92in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\raggedright}m{\\dimexpr 4.01in+0\\tabcolsep}}{\\textcolor[HTML]{000000}{\\fontsize{11}{11}\\selectfont{\\global\\setmainfont{Helvetica}{Free-text\\ notes\\ for\\ state-specific\\ caveats}}}} \\\\\n\n\\ascline{1.5pt}{666666}{1-3}\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n\n:::\n:::\n\n\n# State-by-state Standardization\n\nEach state is processed individually to standardize terminology, fill\ngaps, and calculate Combined totals where necessary.\n\n## California (CA)\n\n**Overview**: California supplies **counts only** for gender and race\nplus a separate total for each offender type; no percentages are\nreported.\n\n### Examine Raw Data\n\nEstablish a baseline understanding of the data exactly as it was\nreceived.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{cccccc}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{state}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{California}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{offender\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{2}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Convicted\\ Offender,\\ Arrestee}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_category}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{3}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total,\\ gender,\\ race}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_detailed}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{8}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total\\_profiles,\\ Female,\\ Male,\\ Unknown,\\ African\\ American,\\ Caucasian,\\ Hispanic,\\ Asian}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{numeric}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{2019899\\ ...,\\ 751822\\ ...,\\ 309827\\ ...,\\ 1603222\\ ...,\\ 106850\\ ...,\\ 208225\\ ...,\\ 524231\\ ...,\\ 19366\\ ...,\\ 368952\\ ...,\\ 588555\\ ...}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{count}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_source}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{reported}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{6}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Data\\ frame\\ dimensions:\\ 16\\ rows\\ ×\\ 7\\ columns}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{FFFFFF}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n\n:::\n:::\n\n\n### Verify Data Consistency\n\nRuns the first quality check using the **`verify_category_totals()`**\nand **`counts_consistent()`** functions.\n\nThis identifies any immediate discrepancies, such as the sum of\ndemographic counts not matching the reported total profiles, which flags\ndata issues that need to be resolved.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nVerifying that demographic counts match reported totals:\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{llrrr}\n\\toprule\noffender\\_type & variable\\_category & total\\_profiles & sum\\_counts & difference\\\\\n\\midrule\nArrestee & gender & 751822 & 751822 & 0\\\\\nArrestee & race & 751822 & 655695 & 96127\\\\\nConvicted Offender & gender & 2019899 & 2019899 & 0\\\\\nConvicted Offender & race & 2019899 & 1626012 & 393887\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCounts consistency check on raw data:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAll counts consistent: FALSE \n```\n\n\n:::\n:::\n\n\n### Address Data Gaps\n\n#### Create Unknown Category\n\n> *\"Racial classification is not considered a required field on the\n> collection card; thus, an unknown number of offenders may have **no\n> racial classification listed**.\"* — California DOJ FOIA letter, July\n> 10 2018 (**`raw/foia_pdfs/FOIA_RacialComp_California.pdf`**)\n\nThe 393,887 Convicted Offender profiles and 96,127 Arrestee profiles\nthat do **not** appear in any of the four reported race categories must\nbelong to an unreported \"Unknown\" category.\n\nThe calculated values are added with a **`value_source = \"calculated\"`**\ntag to maintain transparency about what was provided versus what was\nderived.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nCategory totals after adding Unknown race category:\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{llrrr}\n\\toprule\noffender\\_type & variable\\_category & total\\_profiles & sum\\_counts & difference\\\\\n\\midrule\nArrestee & gender & 751822 & 751822 & 0\\\\\nArrestee & race & 751822 & 751822 & 0\\\\\nConvicted Offender & gender & 2019899 & 2019899 & 0\\\\\nConvicted Offender & race & 2019899 & 2019899 & 0\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCounts consistency after adding Unknown:\nAll counts consistent: TRUE \n```\n\n\n:::\n:::\n\n\n#### Create Combined Totals\n\nSince California only reported data for \"Convicted Offender\" and\n\"Arrestee\" separately.\n\nThis step uses the **`add_combined()`** helper function to calculate a\nnew \"Combined\" offender type by summing the counts from the other two\ncategories.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Created Combined totals for California\nCombined total profiles: 2,771,721 \n```\n\n\n:::\n:::\n\n\n#### Calculate Percentages\n\nTransforms the data from counts into percentages for comparative\nanalysis.\n\nThe **`add_percentages()`** helper function calculates each demographic\ngroup's proportion relative to its offender type's total.\n\nA final consistency check ensures all percentages logically sum to\napproximately 100%.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Added percentages for all demographic categories\nPercentage consistency check:\nAll percentages sum to ~100%: TRUE \n\nFinal data availability:\nRace data: both \nGender data: both \n```\n\n\n:::\n:::\n\n\n#### Standardize Terminology\n\nCalifornia uses \"African American\" instead of \"Black\" and \"Caucasian\"\ninstead of \"White\".\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Standardized terminology: 'African American' → 'Black'\n✓ Standardized terminology: 'Caucasian' → 'White'\n```\n\n\n:::\n:::\n\n\n### Prepare for Combined Dataset\n\nThe cleaned data is formatted to match the master schema and appended to\nthe `foia_combined` dataframe.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Appended 51 California rows to foia_combined\n✓ Total rows in foia_combined: 51\n```\n\n\n:::\n:::\n\n\n### Document Metadata\n\nThe metadata is added with the raw information and updated with the\nresults of the quality checks and a note on the processing steps taken.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Metadata added for: California \n✓ Metadata updated for: California \n```\n\n\n:::\n:::\n\n\n### Visualizations\n\n\n::: {.cell}\n::: {.cell-output-display}\n![California DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/ca-visualizations-1.pdf)\n:::\n\n::: {.cell-output-display}\n![California DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/ca-visualizations-2.pdf)\n:::\n\n::: {.cell-output-display}\n![California DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/ca-visualizations-3.pdf)\n:::\n\n::: {.cell-output-display}\n![California DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/ca-visualizations-4.pdf)\n:::\n\n::: {.cell-output-display}\n![California DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/ca-visualizations-5.pdf)\n:::\n\n::: {.cell-output-display}\n![California DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/ca-visualizations-6.pdf)\n:::\n\n::: {.cell-output-display}\n![California DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/ca-visualizations-7.pdf)\n:::\n\n::: {.cell-output-display}\n![California DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/ca-visualizations-8.pdf)\n:::\n\n::: {.cell-output-display}\n![California DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/ca-visualizations-9.pdf)\n:::\n\n::: {.cell-output-display}\n![California DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/ca-visualizations-10.pdf)\n:::\n\n::: {.cell-output-display}\n![California DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/ca-visualizations-11.pdf)\n:::\n\n::: {.cell-output-display}\n![California DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/ca-visualizations-12.pdf)\n:::\n:::\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![California Demographic Distributions by Offender Type](foia_processing_pdf_files/figure-pdf/ca-bar-charts-1.pdf)\n:::\n:::\n\n\n### Summary Statistics\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nCalifornia DNA Database Summary:\n### Total Profiles by Offender Type (California)\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Offender Type      | Total Profiles|\n|:------------------|--------------:|\n|Convicted Offender |      2,019,899|\n|Arrestee           |        751,822|\n|Combined           |      2,771,721|\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\n### Data Completeness by Source\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Offender Type      |Value Source | Number of Values|\n|:------------------|:------------|----------------:|\n|Arrestee           |calculated   |                9|\n|Arrestee           |reported     |                8|\n|Combined           |calculated   |               17|\n|Convicted Offender |calculated   |                9|\n|Convicted Offender |reported     |                8|\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\n### Data Validation Summary\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Check                   | Status |\n|:-----------------------|:------:|\n|Counts Consistency      | ✓ Pass |\n|Percentages Consistency | ✓ Pass |\n\n\n:::\n:::\n\n\n### Summary of California Processing\n\nCalifornia data processing complete. The dataset now includes:\n\n-   ✅ **Reported data**: Counts for Convicted Offender and Arrestee\n\n-   ✅ **Calculated additions**:\n\n    -   Unknown race category to reconcile reported totals\n\n    -   Combined totals across all offender types\n\n    -   Percentage values for all demographic categories\n\n    -   \"Caucasian\" and \"African American\" converted to \"White\" and\n        \"Black\".\n\n-   ✅ **Quality checks**: All counts and percentages pass consistency\n    validation\n\n-   ✅ **Provenance tracking**: All values include appropriate\n    **`value_source`** indicators\n\nThe California data is now standardized and ready for cross-state\nanalysis.\n\n## Florida (FL)\n\n**Overview**: Florida provides **both counts and percentages** for\ngender and race categories and already includes a \"Combined\" total for\nall offender types, making it one of the most complete and\nstraightforward datasets.\n\nOnly requires to standardize terminology for gender and race categories\nto match the common data model.\n\n### Examine Raw Data\n\nEstablish a baseline understanding of the data exactly as it was\nreceived.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{cccccc}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{state}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{22}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Florida}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{offender\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{22}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Combined}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_category}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{22}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{3}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total,\\ gender,\\ race}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_detailed}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{22}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{10}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total\\_profiles,\\ Female,\\ Male,\\ Unknown,\\ African\\ American,\\ Asian,\\ Caucasian,\\ Hispanic,\\ Native\\ American,\\ Other}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{numeric}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{22}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{22}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1175391\\ ...,\\ 100\\ ...,\\ 260885\\ ...,\\ 22.2\\ ...,\\ 901126\\ ...,\\ 76.67\\ ...,\\ 13380\\ ...,\\ 1.14\\ ...,\\ 413733\\ ...,\\ 35.2\\ ...}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{22}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{2}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{count,\\ percentage}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_source}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{22}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{reported}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{6}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Data\\ frame\\ dimensions:\\ 22\\ rows\\ ×\\ 7\\ columns}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{FFFFFF}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n\n:::\n:::\n\n\n### Verify Data Consistency\n\nRuns the first quality check using the **`Verify_category_totals()`**\nand **`counts_consistent()`** functions.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nVerifying that demographic counts match reported totals:\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{llrrr}\n\\toprule\noffender\\_type & variable\\_category & total\\_profiles & sum\\_counts & difference\\\\\n\\midrule\nCombined & gender & 1175391 & 1175391 & 0\\\\\nCombined & race & 1175391 & 1175391 & 0\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCounts consistency check on raw data:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAll counts consistent: TRUE \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nPercentage consistency check on raw data:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAll percentages sum to ~100%: TRUE \n```\n\n\n:::\n:::\n\n\n### Address Data Gaps\n\n#### Standardize Terminology\n\nFlorida uses \"African American\" instead of \"Black\" and \"Caucasian\"\ninstead of \"White\".\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Standardized terminology: 'African American' → 'Black'\n✓ Standardized terminology: 'Caucasian' → 'White'\n```\n\n\n:::\n:::\n\n\n### Prepare for Combined Dataset\n\nThe Florida data is already complete and consistent. It is formatted to\nmatch the master schema and appended to the `foia_combined` dataframe.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Appended 22 Florida rows to foia_combined\n✓ Total rows in foia_combined: 73\n```\n\n\n:::\n:::\n\n\n### Document Metadata\n\nThe metadata is added with a note that the data was complete and\nrequired no processing.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Metadata added for: Florida \n✓ Metadata updated for: Florida \n```\n\n\n:::\n:::\n\n\n### Visualizations\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Florida DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/fl-visualizations-1.pdf)\n:::\n\n::: {.cell-output-display}\n![Florida DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/fl-visualizations-2.pdf)\n:::\n\n::: {.cell-output-display}\n![Florida DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/fl-visualizations-3.pdf)\n:::\n\n::: {.cell-output-display}\n![Florida DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/fl-visualizations-4.pdf)\n:::\n:::\n\n\n### Summary Statistics\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nFlorida DNA Database Summary:\n### Total Profiles by Offender Type (Florida)\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Offender Type | Total Profiles|\n|:-------------|--------------:|\n|Combined      |      1,175,391|\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\n### Data Completeness by Source\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Offender Type |Value Source | Number of Values|\n|:-------------|:------------|----------------:|\n|Combined      |reported     |               22|\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\n### Data Validation Summary\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Check                   | Status |\n|:-----------------------|:------:|\n|Counts Consistency      | ✓ Pass |\n|Percentages Consistency | ✓ Pass |\n\n\n:::\n:::\n\n\n### Summary of Florida Processing\n\nFlorida data processing complete. The dataset is exemplary and required\nno adjustments:\n\n-   ✅ **Reported data**: Both **counts and percentages** for all\n    Convicted Offender, Arrestee, and Combined categories.\n\n-   ✅ **Terminology standardization**: \"Caucasian\" and \"African\n    American\" converted to \"White\" and \"Black\".\n\n-   ✅ **No calculated additions needed**: All values are sourced\n    directly from the state report (**`value_source = \"reported\"`**).\n\n-   ✅ **Quality checks**: All counts and percentages pass consistency\n    validation.\n\n-   ✅ **Provenance tracking**: All values maintain their original\n    **`value_source`** as \"reported\".\n\nThe Florida data is now standardized and ready for cross-state analysis.\n\n## Indiana (IN)\n\n**Overview**: Indiana presents a unique reporting pattern where total\ncounts are provided by offender type, but demographic breakdowns are\ngiven only as percentages for the Combined total.\n\nValues were provided as strings, including a \"\\<1\" notation, requiring\nconversion.\n\n### Examine Raw Data\n\nEstablish a baseline understanding of the data exactly as it was\nreceived.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{cccccc}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{state}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{8}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Indiana}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{offender\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{8}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{3}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Convicted\\ Offender,\\ Arrestee,\\ Combined}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_category}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{8}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{3}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total,\\ gender,\\ race}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_detailed}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{8}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{7}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total\\_profiles,\\ Female,\\ Male,\\ Caucasian,\\ Black,\\ Hispanic,\\ Other}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{numeric}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{8}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{8}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{279654,\\ 21087,\\ 20,\\ 80,\\ 70,\\ 26,\\ 4,\\ 0.5}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{8}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{2}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{count,\\ percentage}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_source}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{8}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{reported}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{6}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Data\\ frame\\ dimensions:\\ 8\\ rows\\ ×\\ 7\\ columns}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{FFFFFF}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n\n:::\n:::\n\n\n### Verify Data Consistency\n\nInitial checks reveal Indiana's unique structure: counts for totals,\npercentages only for Combined demographics.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nInitial data availability:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRace data: percentages \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nGender data: percentages \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nValue types in raw data:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\ncount, percentage\n```\n\n\n:::\n:::\n\n\n### Address Data Gaps\n\n#### Convert String Values to Numeric\n\nThe raw data contains string values including \"\\<1\" which we convert to\n0.5.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Converted Indiana values from String to numeric\nUnique values after conversion: 279654, 21087, 20, 80, 70, 26, 4, 0.5 \n```\n\n\n:::\n:::\n\n\n#### Solve Percentages Inconsistency\n\nRacial percentages summed to 100.5% instead of 100%\n\nProportional scaling was applied and `value_source` was updated to \"calculated\" for all adjusted values.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Recalculated percentages for Indiana - New sum: 100 %\n```\n\n\n:::\n:::\n\n\n#### Standardize Terminology\n\nIndiana uses \"Caucasian\" instead of \"White\".\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Standardized terminology: 'Caucasian' → 'White'\n```\n\n\n:::\n:::\n\n\n#### Create Combined Total Profiles\n\nIndiana provides separate totals for Convicted Offenders and Arrestees,\nbut we need a Combined total to match the demographic percentages.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nCombined total profiles: 300,741 \n✓ Added Combined total profiles\n```\n\n\n:::\n:::\n\n\n#### Calculate Counts from Percentages\n\nIndiana only provides percentages for demographic categories. We calculate the actual counts using the Combined total.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Calculated demographic counts from percentages\nCategory totals after calculating counts:\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{llrrr}\n\\toprule\noffender\\_type & variable\\_category & total\\_profiles & sum\\_counts & difference\\\\\n\\midrule\nCombined & gender & 300741 & 300741 & 0\\\\\nCombined & race & 300741 & 300741 & 0\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n:::\n\n\n### Verify Data Consistency\n\nFinal checks to ensure all data is now consistent and complete.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nFinal data consistency checks:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nCounts consistent: TRUE \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nPercentages consistent: TRUE \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nFinal data availability:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRace data: both \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nGender data: both \n```\n\n\n:::\n:::\n\n\n### Prepare for Combined Dataset\n\nThe cleaned data is formatted to match the master schema and appended to\nthe `foia_combined` dataframe.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Appended 15 Indiana rows to foia_combined\n✓ Total rows in foia_combined: 88\n```\n\n\n:::\n:::\n\n\n### Document Metadata\n\nThe metadata is added with details on all processing steps performed.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Metadata added for: Indiana \n✓ Metadata updated for: Indiana \n```\n\n\n:::\n:::\n\n\n### Visualizations\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Indiana DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/in-visualizations-1.pdf)\n:::\n\n::: {.cell-output-display}\n![Indiana DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/in-visualizations-2.pdf)\n:::\n\n::: {.cell-output-display}\n![Indiana DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/in-visualizations-3.pdf)\n:::\n\n::: {.cell-output-display}\n![Indiana DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/in-visualizations-4.pdf)\n:::\n:::\n\n\n### Summary Statistics\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nIndiana DNA Database Summary:\n### Total Profiles by Offender Type (Indiana)\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Offender Type      | Total Profiles|Source     |\n|:------------------|--------------:|:----------|\n|Convicted Offender |        279,654|reported   |\n|Arrestee           |         21,087|reported   |\n|Combined           |        300,741|calculated |\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\n### Data Completeness by Source\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Value Source | Number of Values|\n|:------------|----------------:|\n|calculated   |               11|\n|reported     |                4|\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\n### Data Validation Summary\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Check                   | Status |\n|:-----------------------|:------:|\n|Counts Consistency      | ✓ Pass |\n|Percentages Consistency | ✓ Pass |\n\n\n:::\n:::\n\n\n### Summary of Indiana Processing\n\nIndiana data processing complete. The unique dataset required:\n\n-   ✅ **Data conversion**: String values converted to numeric, handling\n    \"\\<1\" as 0.5\n\n-   ✅ **Terminology standardization**: \"Caucasian\" converted to \"White\"\n\n-   ✅ **Calculated additions**:\n\n    -   Combined total profiles across offender types\n\n    -   All demographic counts derived from reported percentages\n\n-   ✅ **Quality checks**: All counts and percentages pass consistency\n    validation\n\n-   ✅ **Provenance tracking**: Clear distinction between reported and\n    calculated values\n\nThe Indiana data is now standardized and ready for cross-state analysis.\n\n## Maine (ME)\n\n**Overview**: Maine provides comprehensive reporting with **both counts\nand percentages** for all gender and race categories across all offender\ntypes, including pre-calculated Combined totals. The data is complete\nand requires no processing.\n\n### Examine Raw Data\n\nEstablish a baseline understanding of the data exactly as it was\nreceived.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{cccccc}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{state}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{19}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Maine}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{offender\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{19}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Combined}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_category}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{19}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{3}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total,\\ gender,\\ race}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_detailed}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{19}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{9}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total\\_profiles,\\ Male,\\ Female,\\ Unknown,\\ White,\\ Black,\\ Native\\ American,\\ Hispanic,\\ Asian}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{numeric}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{19}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{19}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{33711\\ ...,\\ 27694\\ ...,\\ 82.7\\ ...,\\ 5734\\ ...,\\ 17\\ ...,\\ 83\\ ...,\\ 0.2\\ ...,\\ 31298\\ ...,\\ 92.8\\ ...,\\ 1299\\ ...}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{19}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{2}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{count,\\ percentage}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_source}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{19}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{reported}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{6}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Data\\ frame\\ dimensions:\\ 19\\ rows\\ ×\\ 7\\ columns}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{FFFFFF}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n\n:::\n:::\n\n\n### Verify Data Consistency\n\nRuns quality checks using the `verify_category_totals()`,\n`counts_consistent()`, and `percentages_consistent()` functions.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nVerifying that demographic counts match reported totals:\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{llrrr}\n\\toprule\noffender\\_type & variable\\_category & total\\_profiles & sum\\_counts & difference\\\\\n\\midrule\nCombined & gender & 33711 & 33511 & 200\\\\\nCombined & race & 33711 & 33711 & 0\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCounts consistency check on raw data:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAll counts consistent: FALSE \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nPercentage consistency check on raw data:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAll percentages sum to ~100%: TRUE \n```\n\n\n:::\n:::\n\n\n### Address Data Gaps\n\n#### Solve Percentages Inconsistency\n\nRacial percentages summed to 99.9% instead of 100%\n\nProportional scaling was applied and `value_source` was updated to \"calculated\" for all adjusted values.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Recalculated percentages for Maine - New sum: 100 %\n```\n\n\n:::\n:::\n\n\n#### Recalculate Counts from Percentages\n\nMaine's reported gender counts sum were inconsistent with the `total_profiles`.\n\nWe removed existing gender count data and recalculated counts using percentage values and combined totals.\n\nAll recalculated values flagged with `value_source = \"calculated\"`\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Removed existing gender count data\n✓ Calculated demographic counts from percentages\nCategory totals after calculating counts:\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{llrrr}\n\\toprule\noffender\\_type & variable\\_category & total\\_profiles & sum\\_counts & difference\\\\\n\\midrule\nCombined & gender & 33711 & 33711 & 0\\\\\nCombined & race & 33711 & 33711 & 0\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n:::\n\n\n### Verify Data Consistency\n\nFinal checks to ensure all data is now consistent and complete.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nFinal data consistency checks:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nCounts consistent: TRUE \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nPercentages consistent: TRUE \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nFinal data availability:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRace data: both \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nGender data: both \n```\n\n\n:::\n:::\n\n\n### Prepare for Combined Dataset\n\nThe Maine data is already complete and consistent. It is formatted to\nmatch the master schema and appended to the `foia_combined` dataframe.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Appended 19 Maine rows to foia_combined\n✓ Total rows in foia_combined: 107\n```\n\n\n:::\n:::\n\n\n### Document Metadata\n\nThe metadata is added with a note that the data was complete and\nrequired no processing.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Metadata added for: Maine \n✓ Metadata updated for: Maine \n```\n\n\n:::\n:::\n\n\n### Visualizations\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Maine DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/me-visualizations-1.pdf)\n:::\n\n::: {.cell-output-display}\n![Maine DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/me-visualizations-2.pdf)\n:::\n\n::: {.cell-output-display}\n![Maine DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/me-visualizations-3.pdf)\n:::\n\n::: {.cell-output-display}\n![Maine DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/me-visualizations-4.pdf)\n:::\n:::\n\n\n### Summary Statistics\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nMaine DNA Database Summary:\n### Total Profiles by Offender Type (Maine)\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Offender Type | Total Profiles|\n|:-------------|--------------:|\n|Combined      |         33,711|\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\n### Data Completeness by Source\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Offender Type |Value Source | Number of Values|\n|:-------------|:------------|----------------:|\n|Combined      |calculated   |                6|\n|Combined      |reported     |               13|\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\n### Data Validation Summary\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Check                   | Status |\n|:-----------------------|:------:|\n|Counts Consistency      | ✓ Pass |\n|Percentages Consistency | ✓ Pass |\n\n\n:::\n:::\n\n\n### Summary of Maine Processing\n\nMaine data processing complete. The dataset is exemplary and required no\nadjustments:\n\n-   ✅ **Reported data**: Both **counts and percentages** for all\n    Convicted Offender, Arrestee, and Combined categories\n\n-   ✅ **No calculated additions needed**: All values are sourced\n    directly from the state report (**`value_source = \"reported\"`**)\n\n-   ✅ **Quality checks**: All counts and percentages pass consistency\n    validation\n\n-   ✅ **Provenance tracking**: All values maintain their original\n    **`value_source`** as \"reported\"\n\nThe Maine data is now standardized and ready for cross-state analysis.\n\n## Nevada (NV)\n\n**Overview**: Nevada provides **both counts and percentages** for gender\nand race categories but uses non-standard terminology that requires\nconversion for consistency with our schema.\n\n### Examine Raw Data\n\nEstablish a baseline understanding of the data exactly as it was\nreceived.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{cccccc}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{state}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{21}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Nevada}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{offender\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{21}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{4}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{All,\\ Arrestee,\\ Convicted\\ Offender,\\ Combined}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_category}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{21}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{3}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total,\\ gender,\\ race}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_detailed}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{21}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{9}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total\\_flags,\\ total\\_profiles,\\ Female,\\ Male,\\ Unknown,\\ White,\\ American\\ Indian,\\ Black,\\ Asian}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{numeric}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{21}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{21}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{344097\\ ...,\\ 185074\\ ...,\\ 53.785\\ ...,\\ 159023\\ ...,\\ 46.215\\ ...,\\ 63287\\ ...,\\ 18.392\\ ...,\\ 280738\\ ...,\\ 81.587\\ ...,\\ 72\\ ...}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{21}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{2}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{count,\\ percentage}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_source}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{21}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{reported}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{6}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Data\\ frame\\ dimensions:\\ 21\\ rows\\ ×\\ 7\\ columns}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{FFFFFF}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n\n:::\n:::\n\n\n### Verify Data Consistency\n\nInitial check reveals Nevada's non-standard terminology.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nInitial data availability:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRace data: both \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nGender data: both \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nNon-standard terminology found:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nOffender types: All, Arrestee, Convicted Offender, Combined \n```\n\n\n:::\n:::\n\n\n### Address Data Gaps\n\n#### Standardize Terminology\n\nNevada uses \"All\" instead of \"Combined\", \"total_flags\" instead of \"total_profiles\" and \"American Indian\" instead of\n\"Native American\".\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Standardized terminology:\n  - 'All' → 'Combined'\n  - 'total_flags' → 'total_profiles'\n  - 'American Indian' → 'Native American'\n```\n\n\n:::\n:::\n\n\n#### Verify Consistency\n\nNow that the offender types are standardized, we can verify the counts and percentages.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nVerifying that demographic counts match reported totals:\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{llrrr}\n\\toprule\noffender\\_type & variable\\_category & total\\_profiles & sum\\_counts & difference\\\\\n\\midrule\nCombined & gender & 344097 & 344097 & 0\\\\\nCombined & race & 344097 & 344097 & 0\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCounts consistency check on raw data:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAll counts consistent: TRUE \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nPercentage consistency check on raw data:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAll percentages sum to ~100%: TRUE \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSum of 'race' percentages: 100 %\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSum of 'gender' percentages: 100 %\n```\n\n\n:::\n:::\n\n\n### Prepare for Combined Dataset\n\nThe cleaned data is formatted to match the master schema and appended to\nthe `foia_combined` dataframe.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Appended 21 Nevada rows to foia_combined\n✓ Total rows in foia_combined: 128\n```\n\n\n:::\n:::\n\n\n### Document Metadata\n\nThe metadata is added with details on the terminology standardization\nperformed.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Metadata added for: Nevada \n✓ Metadata updated for: Nevada \n```\n\n\n:::\n:::\n\n\n### Visualizations\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Nevada DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/nv-visualizations-1.pdf)\n:::\n\n::: {.cell-output-display}\n![Nevada DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/nv-visualizations-2.pdf)\n:::\n\n::: {.cell-output-display}\n![Nevada DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/nv-visualizations-3.pdf)\n:::\n\n::: {.cell-output-display}\n![Nevada DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/nv-visualizations-4.pdf)\n:::\n:::\n\n\n### Summary Statistics\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nNevada DNA Database Summary:\n### Total Profiles by Offender Type (Nevada)\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Offender Type      | Total Profiles|\n|:------------------|--------------:|\n|Combined           |        344,097|\n|Arrestee           |        185,074|\n|Convicted Offender |        159,023|\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\n### Data Completeness by Source\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Offender Type      |Value Source | Number of Values|\n|:------------------|:------------|----------------:|\n|Arrestee           |reported     |                2|\n|Combined           |reported     |               17|\n|Convicted Offender |reported     |                2|\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\n### Data Validation Summary\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Check                   | Status |\n|:-----------------------|:------:|\n|Counts Consistency      | ✓ Pass |\n|Percentages Consistency | ✗ Fail |\n\n\n:::\n:::\n\n\n### Summary of Nevada Processing\n\nNevada data processing complete. The dataset required minimal\nadjustments:\n\n-   ✅ **Terminology standardization**:\n\n    -   \"All\" → \"Combined\" (offender type)\n\n    -   \"American Indian\" → \"Native American\" (race category)\n\n-   ✅ **Reported data**: Both counts and percentages for all categories\n\n-   ✅ **Quality checks**: All counts and percentages pass consistency\n    validation\n\n-   ✅ **Provenance tracking**: All values maintain\n    **`value_source = \"reported\"`** as only terminology changes were\n    made\n\nThe Nevada data is now standardized and ready for cross-state analysis.\n\n## South Dakota (SD)\n\n**Overview**: South Dakota provides the most comprehensive reporting\nwith **both counts and percentages** for all standard categories plus\nunique intersectional gender×race data. Minor terminology\nstandardization is required for consistency.\n\n### Examine Raw Data\n\nEstablish a baseline understanding of the data exactly as it was\nreceived.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{cccccc}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{state}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{41}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{South\\ Dakota}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{offender\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{41}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Combined}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_category}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{41}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{4}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total,\\ gender,\\ race,\\ gender\\_race}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_detailed}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{41}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{21}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total\\_profiles\\ ...,\\ Male\\ ...,\\ Female\\ ...,\\ Asian\\ ...,\\ Black\\ ...,\\ Hispanic\\ ...,\\ Native\\ American\\ ...,\\ Other/Unknown\\ ...,\\ White/Caucasian\\ ...,\\ Male\\_Asian\\ ...}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{numeric}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{41}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{38}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{67753\\ ...,\\ 51197\\ ...,\\ 75.56\\ ...,\\ 16556\\ ...,\\ 24.44\\ ...,\\ 5\\ ...,\\ 0.08\\ ...,\\ 4041\\ ...,\\ 5.96\\ ...,\\ 2949\\ ...}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{41}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{2}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{count,\\ percentage}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_source}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{41}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{reported}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{6}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Data\\ frame\\ dimensions:\\ 41\\ rows\\ ×\\ 7\\ columns}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{FFFFFF}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n\n:::\n:::\n\n\n### Gender-race intersection analysis\n\nSince South Dakota is the only state that reported gender-race intersection data, we can analyze it in detail.\n\n\n::: {.cell layout-ncol=\"1\" fig-fontsize='16'}\n::: {.cell-output-display}\n![South Dakota Intersectional Gender × Race Analysis](foia_processing_pdf_files/figure-pdf/sd-intersectional-visuals-1.pdf)\n:::\n:::\n\n\n### Verify Data Consistency\n\nInitial check reveals South Dakota's comprehensive data structure with\nsome non-standard terminology.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nInitial data availability:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRace data: both \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nGender data: both \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nNon-standard terminology found:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRace terms: Asian, Black, Hispanic, Native American, Other/Unknown, White/Caucasian \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nVerifying that demographic counts match reported totals:\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{llrrr}\n\\toprule\noffender\\_type & variable\\_category & total\\_profiles & sum\\_counts & difference\\\\\n\\midrule\nCombined & gender & 67753 & 67753 & 0\\\\\nCombined & race & 67753 & 67702 & 51\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCounts consistency check on raw data:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAll counts consistent: FALSE \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nPercentage consistency check on raw data:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAll percentages sum to ~100%: TRUE \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSum of 'race' percentages: 100 %\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nSum of 'gender' percentages: 100 %\n```\n\n\n:::\n:::\n\n\n### Address Data Gaps\n\n#### Standardize Terminology\n\nSouth Dakota uses \"White/Caucasian\" and \"Other/Unknown\" which need\nstandardization.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Standardized terminology:\n  - 'White/Caucasian' → 'White'\n  - 'Other/Unknown' → 'Unknown'\n\nRace categories after standardization:\nAsian, Black, Hispanic, Native American, Unknown, White\n```\n\n\n:::\n:::\n\n\n#### Recalculate Counts from Percentages\n\nSouth Dakota's reported race counts sum were inconsistent with the `total_profiles`.\n\nWe removed existing gender count data and recalculated counts using percentage values and combined totals.\n\nAll recalculated values flagged with `value_source = \"calculated\"`\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Removed existing race count data\n✓ Calculated demographic counts from percentages\nCategory totals after calculating counts:\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{llrrr}\n\\toprule\noffender\\_type & variable\\_category & total\\_profiles & sum\\_counts & difference\\\\\n\\midrule\nCombined & gender & 67753 & 67753 & 0\\\\\nCombined & race & 67753 & 67752 & 1\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n:::\n\n\nWe handled this diffence of 1 by adding it to the most representative race (White).\n\n\n::: {.cell}\n\n:::\n\n\n### Verify Data Consistency\n\nFinal checks to ensure standardization didn't affect data integrity.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nFinal data consistency checks after standardization:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nVerifying that demographic counts match reported totals:\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{llrrr}\n\\toprule\noffender\\_type & variable\\_category & total\\_profiles & sum\\_counts & difference\\\\\n\\midrule\nCombined & gender & 67753 & 67753 & 0\\\\\nCombined & race & 67753 & 67753 & 0\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCounts consistency check:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAll counts consistent: TRUE \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nPercentage consistency check:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAll percentages sum to ~100%: TRUE \n```\n\n\n:::\n:::\n\n\n### Prepare for Combined Dataset\n\nThe cleaned data is formatted to match the master schema and appended to\nthe `foia_combined` dataframe.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Appended 17 South Dakota rows to foia_combined\n✓ Total rows in foia_combined: 145\n\nSouth Dakota's comprehensive data structure:\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{lr}\n\\toprule\nvariable\\_category & n\\_rows\\\\\n\\midrule\ngender & 4\\\\\nrace & 12\\\\\ntotal & 1\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n:::\n\n\n### Document Metadata\n\nThe metadata is added with details on South Dakota's comprehensive\nreporting and the terminology standardization performed.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Metadata added for: South Dakota \n✓ Metadata updated for: South Dakota \n```\n\n\n:::\n:::\n\n\n### Visualizations\n\n\n::: {.cell}\n::: {.cell-output-display}\n![South Dakota DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/sd-visualizations-1.pdf)\n:::\n\n::: {.cell-output-display}\n![South Dakota DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/sd-visualizations-2.pdf)\n:::\n\n::: {.cell-output-display}\n![South Dakota DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/sd-visualizations-3.pdf)\n:::\n\n::: {.cell-output-display}\n![South Dakota DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/sd-visualizations-4.pdf)\n:::\n:::\n\n\n### Summary Statistics\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nSouth Dakota DNA Database Summary:\n# A tibble: 1 x 3\n  offender_type value value_formatted\n  <chr>         <dbl> <chr>          \n1 Combined      67753 67,753         \n\nData completeness by category:\n# A tibble: 3 x 2\n  variable_category n_values\n  <chr>                <int>\n1 gender                   4\n2 race                    12\n3 total                    1\n\nFinal verification:\nCounts consistent: TRUE \nPercentages consistent: TRUE \n```\n\n\n:::\n:::\n\n\n### Summary of South Dakota Processing\n\nSouth Dakota data processing complete. The state provided exemplary data\nwith minimal adjustments needed:\n\n-   ✅ **Terminology standardization**:\n\n    -   \"White/Caucasian\" → \"White\"\n\n    -   \"Other/Unknown\" → \"Unknown\"\n\n-   ✅ **Comprehensive reporting**: Standard demographics plus unique\n    gender×race intersectional data\n\n-   ✅ **Reported data**: Both counts and percentages for all categories\n\n-   ✅ **Quality checks**: All counts and percentages pass consistency\n    validation\n\n-   ✅ **Provenance tracking**: All values maintain\n    **`value_source = \"reported\"`** as only terminology changes were\n    made\n\nSouth Dakota's data is now\nstandardized and ready for cross-state analysis.\n\n## Texas (TX)\n\n**Overview**: Texas provides **counts only** for gender and race\ncategories. The Male gender is missing in the dataset. The state uses non-standard terminology that requires\nconversion and needs Combined totals and percentages calculated. \n\n### Examine Raw Data\n\nEstablish a baseline understanding of the data exactly as it was\nreceived.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=latex}\n\\global\\setlength{\\Oldarrayrulewidth}{\\arrayrulewidth}\n\n\\global\\setlength{\\Oldtabcolsep}{\\tabcolsep}\n\n\\setlength{\\tabcolsep}{2pt}\n\n\\renewcommand*{\\arraystretch}{1.5}\n\n\n\n\\providecommand{\\ascline}[3]{\\noalign{\\global\\arrayrulewidth #1}\\arrayrulecolor[HTML]{#2}\\cline{#3}}\n\n\\begin{longtable}[c]{cccccc}\n\n\n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endfirsthead \n\n\\hhline{>{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}->{\\arrayrulecolor[HTML]{000000}\\global\\arrayrulewidth=0pt}-}\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Column}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Type}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Rows}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Missing}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique}}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{CFCFCF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{\\textbf{Unique\\_Values}}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\\endhead\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{state}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Texas}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{offender\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{2}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Offenders,\\ Arrestee}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_category}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{3}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total,\\ gender,\\ race}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{variable\\_detailed}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{8}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{total\\_profiles,\\ Female,\\ Asian,\\ African\\ American,\\ Caucasian,\\ Hispanic,\\ Native\\ American,\\ Other}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{numeric}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{845322\\ ...,\\ 73631\\ ...,\\ 121434\\ ...,\\ 18721\\ ...,\\ 3361\\ ...,\\ 254366\\ ...,\\ 309010\\ ...,\\ 276245\\ ...,\\ 138\\ ...,\\ 2173\\ ...}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_type}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{count}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{value\\_source}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{character}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{16}}}} & \\multicolumn{1}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{0}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{FFF3CD}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{1}}}} & \\multicolumn{1}{>{\\cellcolor[HTML]{EFEFEF}}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{reported}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{000000}\n\n\n\n\n\n\\multicolumn{6}{>{}l}{\\textcolor[HTML]{000000}{\\fontsize{10}{10}\\selectfont{\\global\\setmainfont{Helvetica}{Data\\ frame\\ dimensions:\\ 16\\ rows\\ ×\\ 7\\ columns}}}} \\\\\n\n\\noalign{\\global\\arrayrulewidth 0pt}\\arrayrulecolor[HTML]{FFFFFF}\n\n\n\n\n\n\\end{longtable}\n\n\n\n\\arrayrulecolor[HTML]{000000}\n\n\\global\\setlength{\\arrayrulewidth}{\\Oldarrayrulewidth}\n\n\\global\\setlength{\\tabcolsep}{\\Oldtabcolsep}\n\n\\renewcommand*{\\arraystretch}{1}\n```\n\n:::\n:::\n\n\n### Verify Data Consistency\n\nInitial checks reveal Texas's reporting structure and terminology\ndifferences.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nInitial data availability:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRace data: counts \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nGender data: counts \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nNon-standard terminology found:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nOffender types: Offenders, Arrestee \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRace terms: Asian, African American, Caucasian, Hispanic, Native American, Other \n```\n\n\n:::\n:::\n\n\n### Address Data Gaps\n\n#### Add Missing Male category\n\nTexas data reports only Female counts explicitly. We calculated Male counts\nby subtracting Female counts from total profiles, assuming binary gender\nclassification in the dataset.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nCurrent gender structure:\n[1] \"Female\"\n\nAfter adding Male entries - gender categories:\n[1] \"Female\" \"Male\"  \n```\n\n\n:::\n:::\n\n\n#### Standardize Terminology\n\nTexas uses \"Offenders\" instead of \"Convicted Offender\" and \"Caucasian\"\ninstead of \"White\".\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Standardized terminology:\n  - 'Offenders' → 'Convicted Offender'\n  - 'Caucasian' → 'White'\n  - 'African American' → 'Black'\nOffender types after standardization: Arrestee, Convicted Offender \n```\n\n\n:::\n:::\n\n\n#### Create Unknown Category\n\nTexas race count is inconsistent, with a significant number of profiles not reported in any racial category.\n\nUnknown category was created to account for these missing profiles.\n\nThe calculated values are added with a **`value_source = \"calculated\"`** tag to maintain transparency about what was provided versus what was derived.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nCategory totals after adding Unknown race category:\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{llrrr}\n\\toprule\noffender\\_type & variable\\_category & total\\_profiles & sum\\_counts & difference\\\\\n\\midrule\nArrestee & gender & 73631 & 73631 & 0\\\\\nArrestee & race & 73631 & 73631 & 0\\\\\nConvicted Offender & gender & 845322 & 845322 & 0\\\\\nConvicted Offender & race & 845322 & 845322 & 0\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCounts consistency after adding Unknown:\nAll counts consistent: TRUE \n```\n\n\n:::\n:::\n\n\n#### Create Combined Totals\n\nTexas only reported data for \"Convicted Offender\" and \"Arrestee\"\nseparately. We calculate Combined totals.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Created Combined totals for Texas\nCombined total profiles: 918,953 \n```\n\n\n:::\n:::\n\n\n#### Calculate Percentages\n\nTransforms the data from counts into percentages for comparative\nanalysis.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Added percentages for all demographic categories\nPercentage consistency check:\nAll percentages sum to ~100%: TRUE \n\nFinal data availability:\nRace data: both \nGender data: both \n```\n\n\n:::\n:::\n\n\n### Verify Data Consistency\n\nFinal checks to ensure all processing maintained data integrity.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nFinal data consistency checks:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nVerifying that demographic counts match reported totals:\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{llrrr}\n\\toprule\noffender\\_type & variable\\_category & total\\_profiles & sum\\_counts & difference\\\\\n\\midrule\nArrestee & gender & 73631 & 73631 & 0\\\\\nArrestee & race & 73631 & 73631 & 0\\\\\nCombined & gender & 918953 & 918953 & 0\\\\\nCombined & race & 918953 & 918953 & 0\\\\\nConvicted Offender & gender & 845322 & 845322 & 0\\\\\n\\addlinespace\nConvicted Offender & race & 845322 & 845322 & 0\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCounts consistency check:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAll counts consistent: TRUE \n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nPercentage consistency check:\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAll percentages sum to ~100%: TRUE \n```\n\n\n:::\n:::\n\n\n### Prepare for Combined Dataset\n\nThe cleaned data is formatted to match the master schema and appended to\nthe `foia_combined` dataframe.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Appended 57 Texas rows to foia_combined\n✓ Total rows in foia_combined: 202\n```\n\n\n:::\n:::\n\n\n### Document Metadata\n\nThe metadata is added with details on all processing steps performed.\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\n✓ Metadata added for: Texas \n✓ Metadata updated for: Texas \n```\n\n\n:::\n:::\n\n\n### Visualizations\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Texas DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/tx-visualizations-1.pdf)\n:::\n\n::: {.cell-output-display}\n![Texas DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/tx-visualizations-2.pdf)\n:::\n\n::: {.cell-output-display}\n![Texas DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/tx-visualizations-3.pdf)\n:::\n\n::: {.cell-output-display}\n![Texas DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/tx-visualizations-4.pdf)\n:::\n\n::: {.cell-output-display}\n![Texas DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/tx-visualizations-5.pdf)\n:::\n\n::: {.cell-output-display}\n![Texas DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/tx-visualizations-6.pdf)\n:::\n\n::: {.cell-output-display}\n![Texas DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/tx-visualizations-7.pdf)\n:::\n\n::: {.cell-output-display}\n![Texas DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/tx-visualizations-8.pdf)\n:::\n\n::: {.cell-output-display}\n![Texas DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/tx-visualizations-9.pdf)\n:::\n\n::: {.cell-output-display}\n![Texas DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/tx-visualizations-10.pdf)\n:::\n\n::: {.cell-output-display}\n![Texas DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/tx-visualizations-11.pdf)\n:::\n\n::: {.cell-output-display}\n![Texas DNA Database Demographic Distributions](foia_processing_pdf_files/figure-pdf/tx-visualizations-12.pdf)\n:::\n:::\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Texas Demographic Distributions by Offender Type](foia_processing_pdf_files/figure-pdf/tx-bar-charts-1.pdf)\n:::\n:::\n\n\n### Summary Statistics\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nTexas DNA Database Summary:\n### Total Profiles by Offender Type (Texas)\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Offender Type      | Total Profiles|Source     |\n|:------------------|--------------:|:----------|\n|Convicted Offender |        845,322|reported   |\n|Arrestee           |         73,631|reported   |\n|Combined           |        918,953|calculated |\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\n### Data Completeness by Source\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Value Source | Number of Values|\n|:------------|----------------:|\n|calculated   |               41|\n|reported     |               16|\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\n### Data Validation Summary\n```\n\n\n:::\n\n::: {.cell-output-display}\n\n\n|Check                   | Status |\n|:-----------------------|:------:|\n|Counts Consistency      | ✓ Pass |\n|Percentages Consistency | ✓ Pass |\n\n\n:::\n:::\n\n\n### Summary of Texas Processing\n\nTexas data processing complete. The dataset required several\nadjustments:\n\n-   ✅ **Male Category Addition**:\n\n    -   \"Male\" added to `variable_detailed`\n\n\n-   ✅ **Terminology standardization**:\n\n    -   \"Offenders\" → \"Convicted Offender\"\n\n    -   \"Caucasian\" → \"White\"\n\n    -   \"African American\" → \"Black\"\n\n-   ✅ **Calculated additions**:\n\n    -   Combined totals across all offender types\n\n    -   Percentage values for all demographic categories\n\n-   ✅ **Quality checks**: All counts and percentages pass consistency\n    validation\n\n-   ✅ **Provenance tracking**: Clear distinction between reported and\n    calculated values\n\nThe Texas data is now standardized and ready for cross-state analysis.\n\n## Combined Dataset\n\n\n::: {.cell}\n::: {.cell-output-display}\n\\begingroup\\fontsize{9}{11}\\selectfont\n\n\\begin{longtable}[t]{llllrll}\n\\toprule\nstate & offender\\_type & variable\\_category & variable\\_detailed & value & value\\_type & value\\_source\\\\\n\\midrule\n\\endfirsthead\n\\multicolumn{7}{@{}l}{\\textit{(continued)}}\\\\\n\\toprule\nstate & offender\\_type & variable\\_category & variable\\_detailed & value & value\\_type & value\\_source\\\\\n\\midrule\n\\endhead\n\n\\endfoot\n\\bottomrule\n\\endlastfoot\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{total} & \\cellcolor{gray!10}{total\\_profiles} & \\cellcolor{gray!10}{2.019899e+06} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nCalifornia & Arrestee & total & total\\_profiles & 7.518220e+05 & count & reported\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Female} & \\cellcolor{gray!10}{3.098270e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nCalifornia & Convicted Offender & gender & Male & 1.603222e+06 & count & reported\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{1.068500e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\n\\addlinespace\nCalifornia & Arrestee & gender & Female & 2.082250e+05 & count & reported\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Male} & \\cellcolor{gray!10}{5.242310e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nCalifornia & Arrestee & gender & Unknown & 1.936600e+04 & count & reported\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{3.689520e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nCalifornia & Convicted Offender & race & White & 5.885550e+05 & count & reported\\\\\n\\addlinespace\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Hispanic} & \\cellcolor{gray!10}{6.521210e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nCalifornia & Convicted Offender & race & Asian & 1.638400e+04 & count & reported\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{1.047410e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nCalifornia & Arrestee & race & White & 2.313130e+05 & count & reported\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Hispanic} & \\cellcolor{gray!10}{3.084500e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\n\\addlinespace\nCalifornia & Arrestee & race & Asian & 1.119100e+04 & count & reported\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{3.938870e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Arrestee & race & Unknown & 9.612700e+04 & count & calculated\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Female} & \\cellcolor{gray!10}{5.180520e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Combined & gender & Male & 2.127453e+06 & count & calculated\\\\\n\\addlinespace\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{1.262160e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Combined & race & Black & 4.736930e+05 & count & calculated\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Asian} & \\cellcolor{gray!10}{2.757500e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Combined & race & White & 8.198680e+05 & count & calculated\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Hispanic} & \\cellcolor{gray!10}{9.605710e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\n\\addlinespace\nCalifornia & Combined & race & Unknown & 4.900140e+05 & count & calculated\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{total} & \\cellcolor{gray!10}{total\\_profiles} & \\cellcolor{gray!10}{2.771721e+06} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Convicted Offender & gender & Female & 1.534000e+01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Male} & \\cellcolor{gray!10}{7.937000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Convicted Offender & gender & Unknown & 5.290000e+00 & percentage & calculated\\\\\n\\addlinespace\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Female} & \\cellcolor{gray!10}{2.770000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Arrestee & gender & Male & 6.973000e+01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{2.580000e+00} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Convicted Offender & race & Black & 1.827000e+01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{White} & \\cellcolor{gray!10}{2.914000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\n\\addlinespace\nCalifornia & Convicted Offender & race & Hispanic & 3.228000e+01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Asian} & \\cellcolor{gray!10}{8.100000e-01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Arrestee & race & Black & 1.393000e+01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{White} & \\cellcolor{gray!10}{3.077000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Arrestee & race & Hispanic & 4.103000e+01 & percentage & calculated\\\\\n\\addlinespace\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Asian} & \\cellcolor{gray!10}{1.490000e+00} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Convicted Offender & race & Unknown & 1.950000e+01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{1.279000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Combined & gender & Female & 1.869000e+01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Male} & \\cellcolor{gray!10}{7.676000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\n\\addlinespace\nCalifornia & Combined & gender & Unknown & 4.550000e+00 & percentage & calculated\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{1.709000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Combined & race & Asian & 9.900000e-01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{White} & \\cellcolor{gray!10}{2.958000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nCalifornia & Combined & race & Hispanic & 3.466000e+01 & percentage & calculated\\\\\n\\addlinespace\n\\cellcolor{gray!10}{California} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{1.768000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nFlorida & Combined & total & total\\_profiles & 1.175391e+06 & count & reported\\\\\n\\cellcolor{gray!10}{Florida} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{total} & \\cellcolor{gray!10}{total\\_profiles} & \\cellcolor{gray!10}{1.000000e+02} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nFlorida & Combined & gender & Female & 2.608850e+05 & count & reported\\\\\n\\cellcolor{gray!10}{Florida} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Female} & \\cellcolor{gray!10}{2.220000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\n\\addlinespace\nFlorida & Combined & gender & Male & 9.011260e+05 & count & reported\\\\\n\\cellcolor{gray!10}{Florida} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Male} & \\cellcolor{gray!10}{7.667000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nFlorida & Combined & gender & Unknown & 1.338000e+04 & count & reported\\\\\n\\cellcolor{gray!10}{Florida} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{1.140000e+00} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nFlorida & Combined & race & Black & 4.137330e+05 & count & reported\\\\\n\\addlinespace\n\\cellcolor{gray!10}{Florida} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{3.520000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nFlorida & Combined & race & Asian & 2.659000e+03 & count & reported\\\\\n\\cellcolor{gray!10}{Florida} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Asian} & \\cellcolor{gray!10}{2.300000e-01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nFlorida & Combined & race & White & 7.214850e+05 & count & reported\\\\\n\\cellcolor{gray!10}{Florida} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{White} & \\cellcolor{gray!10}{6.138000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\n\\addlinespace\nFlorida & Combined & race & Hispanic & 2.845200e+04 & count & reported\\\\\n\\cellcolor{gray!10}{Florida} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Hispanic} & \\cellcolor{gray!10}{2.420000e+00} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nFlorida & Combined & race & Native American & 6.670000e+02 & count & reported\\\\\n\\cellcolor{gray!10}{Florida} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Native American} & \\cellcolor{gray!10}{6.000000e-02} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nFlorida & Combined & race & Other & 1.176000e+03 & count & reported\\\\\n\\addlinespace\n\\cellcolor{gray!10}{Florida} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Other} & \\cellcolor{gray!10}{1.000000e-01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nFlorida & Combined & race & Unknown & 7.219000e+03 & count & reported\\\\\n\\cellcolor{gray!10}{Florida} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{6.100000e-01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nIndiana & Convicted Offender & total & total\\_profiles & 2.796540e+05 & count & reported\\\\\n\\cellcolor{gray!10}{Indiana} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{total} & \\cellcolor{gray!10}{total\\_profiles} & \\cellcolor{gray!10}{2.108700e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\n\\addlinespace\nIndiana & Combined & gender & Female & 2.000000e+01 & percentage & reported\\\\\n\\cellcolor{gray!10}{Indiana} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Male} & \\cellcolor{gray!10}{8.000000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nIndiana & Combined & race & White & 6.965174e+01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{Indiana} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{2.587065e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nIndiana & Combined & race & Hispanic & 3.980100e+00 & percentage & calculated\\\\\n\\addlinespace\n\\cellcolor{gray!10}{Indiana} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Other} & \\cellcolor{gray!10}{4.975124e-01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nIndiana & Combined & total & total\\_profiles & 3.007410e+05 & count & calculated\\\\\n\\cellcolor{gray!10}{Indiana} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Female} & \\cellcolor{gray!10}{6.014800e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nIndiana & Combined & gender & Male & 2.405930e+05 & count & calculated\\\\\n\\cellcolor{gray!10}{Indiana} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{White} & \\cellcolor{gray!10}{2.094710e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\n\\addlinespace\nIndiana & Combined & race & Black & 7.780400e+04 & count & calculated\\\\\n\\cellcolor{gray!10}{Indiana} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Hispanic} & \\cellcolor{gray!10}{1.197000e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nIndiana & Combined & race & Other & 1.496000e+03 & count & calculated\\\\\n\\cellcolor{gray!10}{Maine} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{total} & \\cellcolor{gray!10}{total\\_profiles} & \\cellcolor{gray!10}{3.371100e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nMaine & Combined & gender & Male & 8.278278e+01 & percentage & calculated\\\\\n\\addlinespace\n\\cellcolor{gray!10}{Maine} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Female} & \\cellcolor{gray!10}{1.701702e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nMaine & Combined & gender & Unknown & 2.002002e-01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{Maine} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{White} & \\cellcolor{gray!10}{3.129800e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nMaine & Combined & race & White & 9.280000e+01 & percentage & reported\\\\\n\\cellcolor{gray!10}{Maine} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{1.299000e+03} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\n\\addlinespace\nMaine & Combined & race & Black & 3.900000e+00 & percentage & reported\\\\\n\\cellcolor{gray!10}{Maine} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{4.700000e+02} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nMaine & Combined & race & Unknown & 1.400000e+00 & percentage & reported\\\\\n\\cellcolor{gray!10}{Maine} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Native American} & \\cellcolor{gray!10}{3.450000e+02} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nMaine & Combined & race & Native American & 1.000000e+00 & percentage & reported\\\\\n\\addlinespace\n\\cellcolor{gray!10}{Maine} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Hispanic} & \\cellcolor{gray!10}{1.710000e+02} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nMaine & Combined & race & Hispanic & 5.000000e-01 & percentage & reported\\\\\n\\cellcolor{gray!10}{Maine} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Asian} & \\cellcolor{gray!10}{1.280000e+02} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nMaine & Combined & race & Asian & 4.000000e-01 & percentage & reported\\\\\n\\cellcolor{gray!10}{Maine} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Male} & \\cellcolor{gray!10}{2.790700e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\n\\addlinespace\nMaine & Combined & gender & Female & 5.737000e+03 & count & calculated\\\\\n\\cellcolor{gray!10}{Maine} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{6.700000e+01} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nNevada & Combined & total & total\\_profiles & 3.440970e+05 & count & reported\\\\\n\\cellcolor{gray!10}{Nevada} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{total} & \\cellcolor{gray!10}{total\\_profiles} & \\cellcolor{gray!10}{1.850740e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nNevada & Arrestee & total & total\\_profiles & 5.378500e+01 & percentage & reported\\\\\n\\addlinespace\n\\cellcolor{gray!10}{Nevada} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{total} & \\cellcolor{gray!10}{total\\_profiles} & \\cellcolor{gray!10}{1.590230e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nNevada & Convicted Offender & total & total\\_profiles & 4.621500e+01 & percentage & reported\\\\\n\\cellcolor{gray!10}{Nevada} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Female} & \\cellcolor{gray!10}{6.328700e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nNevada & Combined & gender & Female & 1.839200e+01 & percentage & reported\\\\\n\\cellcolor{gray!10}{Nevada} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Male} & \\cellcolor{gray!10}{2.807380e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\n\\addlinespace\nNevada & Combined & gender & Male & 8.158700e+01 & percentage & reported\\\\\n\\cellcolor{gray!10}{Nevada} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{7.200000e+01} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nNevada & Combined & gender & Unknown & 2.090000e-02 & percentage & reported\\\\\n\\cellcolor{gray!10}{Nevada} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{White} & \\cellcolor{gray!10}{2.387230e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nNevada & Combined & race & White & 6.937700e+01 & percentage & reported\\\\\n\\addlinespace\n\\cellcolor{gray!10}{Nevada} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{3.491000e+03} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nNevada & Combined & race & Unknown & 1.015000e+00 & percentage & reported\\\\\n\\cellcolor{gray!10}{Nevada} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Native American} & \\cellcolor{gray!10}{5.710000e+03} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nNevada & Combined & race & Native American & 1.659000e+00 & percentage & reported\\\\\n\\cellcolor{gray!10}{Nevada} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{8.817400e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\n\\addlinespace\nNevada & Combined & race & Black & 2.562500e+01 & percentage & reported\\\\\n\\cellcolor{gray!10}{Nevada} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Asian} & \\cellcolor{gray!10}{7.999000e+03} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nNevada & Combined & race & Asian & 2.346000e+00 & percentage & reported\\\\\n\\cellcolor{gray!10}{South Dakota} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{total} & \\cellcolor{gray!10}{total\\_profiles} & \\cellcolor{gray!10}{6.775300e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nSouth Dakota & Combined & gender & Male & 5.119700e+04 & count & reported\\\\\n\\addlinespace\n\\cellcolor{gray!10}{South Dakota} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Male} & \\cellcolor{gray!10}{7.556000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nSouth Dakota & Combined & gender & Female & 1.655600e+04 & count & reported\\\\\n\\cellcolor{gray!10}{South Dakota} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Female} & \\cellcolor{gray!10}{2.444000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nSouth Dakota & Combined & race & Asian & 8.000000e-02 & percentage & reported\\\\\n\\cellcolor{gray!10}{South Dakota} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{5.960000e+00} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\n\\addlinespace\nSouth Dakota & Combined & race & Hispanic & 4.350000e+00 & percentage & reported\\\\\n\\cellcolor{gray!10}{South Dakota} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Native American} & \\cellcolor{gray!10}{2.154000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nSouth Dakota & Combined & race & Unknown & 1.320000e+00 & percentage & reported\\\\\n\\cellcolor{gray!10}{South Dakota} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{White} & \\cellcolor{gray!10}{6.675000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{reported}\\\\\nSouth Dakota & Combined & race & Asian & 5.400000e+01 & count & calculated\\\\\n\\addlinespace\n\\cellcolor{gray!10}{South Dakota} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{4.038000e+03} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nSouth Dakota & Combined & race & Hispanic & 2.947000e+03 & count & calculated\\\\\n\\cellcolor{gray!10}{South Dakota} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Native American} & \\cellcolor{gray!10}{1.459400e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nSouth Dakota & Combined & race & Unknown & 8.940000e+02 & count & calculated\\\\\n\\cellcolor{gray!10}{South Dakota} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{White} & \\cellcolor{gray!10}{4.522600e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\n\\addlinespace\nTexas & Convicted Offender & total & total\\_profiles & 8.453220e+05 & count & reported\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{total} & \\cellcolor{gray!10}{total\\_profiles} & \\cellcolor{gray!10}{7.363100e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nTexas & Convicted Offender & gender & Female & 1.214340e+05 & count & reported\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Female} & \\cellcolor{gray!10}{1.872100e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nTexas & Convicted Offender & race & Asian & 3.361000e+03 & count & reported\\\\\n\\addlinespace\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{2.543660e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nTexas & Convicted Offender & race & White & 3.090100e+05 & count & reported\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Hispanic} & \\cellcolor{gray!10}{2.762450e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nTexas & Convicted Offender & race & Native American & 1.380000e+02 & count & reported\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Other} & \\cellcolor{gray!10}{2.173000e+03} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\n\\addlinespace\nTexas & Arrestee & race & Asian & 4.970000e+02 & count & reported\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{1.290300e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nTexas & Arrestee & race & White & 3.348600e+04 & count & reported\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Hispanic} & \\cellcolor{gray!10}{2.420200e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nTexas & Arrestee & race & Native American & 2.400000e+01 & count & reported\\\\\n\\addlinespace\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Other} & \\cellcolor{gray!10}{3.580000e+02} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{reported}\\\\\nTexas & Convicted Offender & gender & Male & 7.238880e+05 & count & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Male} & \\cellcolor{gray!10}{5.491000e+04} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Convicted Offender & race & Unknown & 2.900000e+01 & count & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{2.161000e+03} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\n\\addlinespace\nTexas & Combined & gender & Female & 1.401550e+05 & count & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Male} & \\cellcolor{gray!10}{7.787980e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Combined & race & Asian & 3.858000e+03 & count & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{2.672690e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Combined & race & Hispanic & 3.004470e+05 & count & calculated\\\\\n\\addlinespace\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Native American} & \\cellcolor{gray!10}{1.620000e+02} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Combined & race & Other & 2.531000e+03 & count & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{2.190000e+03} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Combined & race & White & 3.424960e+05 & count & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{total} & \\cellcolor{gray!10}{total\\_profiles} & \\cellcolor{gray!10}{9.189530e+05} & \\cellcolor{gray!10}{count} & \\cellcolor{gray!10}{calculated}\\\\\n\\addlinespace\nTexas & Convicted Offender & gender & Female & 1.437000e+01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Female} & \\cellcolor{gray!10}{2.543000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Convicted Offender & race & Asian & 4.000000e-01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{3.009000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Convicted Offender & race & White & 3.656000e+01 & percentage & calculated\\\\\n\\addlinespace\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Hispanic} & \\cellcolor{gray!10}{3.268000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Convicted Offender & race & Native American & 2.000000e-02 & percentage & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Convicted Offender} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Other} & \\cellcolor{gray!10}{2.600000e-01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Arrestee & race & Asian & 6.700000e-01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{1.752000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\n\\addlinespace\nTexas & Arrestee & race & White & 4.548000e+01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Hispanic} & \\cellcolor{gray!10}{3.287000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Arrestee & race & Native American & 3.000000e-02 & percentage & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Other} & \\cellcolor{gray!10}{4.900000e-01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Convicted Offender & gender & Male & 8.563000e+01 & percentage & calculated\\\\\n\\addlinespace\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Male} & \\cellcolor{gray!10}{7.457000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Convicted Offender & race & Unknown & 0.000000e+00 & percentage & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Arrestee} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{2.930000e+00} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Combined & gender & Female & 1.525000e+01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{gender} & \\cellcolor{gray!10}{Male} & \\cellcolor{gray!10}{8.475000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\n\\addlinespace\nTexas & Combined & race & Asian & 4.200000e-01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Black} & \\cellcolor{gray!10}{2.908000e+01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Combined & race & Hispanic & 3.269000e+01 & percentage & calculated\\\\\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Native American} & \\cellcolor{gray!10}{2.000000e-02} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Combined & race & Other & 2.800000e-01 & percentage & calculated\\\\\n\\addlinespace\n\\cellcolor{gray!10}{Texas} & \\cellcolor{gray!10}{Combined} & \\cellcolor{gray!10}{race} & \\cellcolor{gray!10}{Unknown} & \\cellcolor{gray!10}{2.400000e-01} & \\cellcolor{gray!10}{percentage} & \\cellcolor{gray!10}{calculated}\\\\\nTexas & Combined & race & White & 3.727000e+01 & percentage & calculated\\\\*\n\\end{longtable}\n\\endgroup{}\n\n\n:::\n\n::: {.cell-output-display}\n![](foia_processing_pdf_files/figure-pdf/combine-all-states-1.pdf)\n:::\n\n::: {.cell-output-display}\n![](foia_processing_pdf_files/figure-pdf/combine-all-states-2.pdf)\n:::\n:::\n\n\n# Conclusions\n\n1. **Data Acquisition and Harmonization**: We ingested seven unique state datasets (`california_foia_data.csv` through `texas_foia_data.csv`), each with distinct reporting formats, terminology, and levels of completeness. Through a systematic processing workflow, we harmonized these into a single, tidy long-format dataset (`foia_combined`), ensuring consistency across all variables.\n\n2. **Standardization of Terminology**: A significant challenge was the non-standard terminology used across states. We implemented a rigorous process to map all state-specific terms to a common data model:\n\n   - **Offender Types**: Standardized to `\"Convicted Offender\"`, `\"Arrestee\"`, and `\"Combined\"`.\n\n   - **Race Categories**: Mapped terms like `\"Caucasian\"`, `\"African American\"`, and `\"American Indian\"` to standardized categories (`\"White\"`, `\"Black\"`, `\"Native American\"`).\n\n   - **Total Profiles**: Consolidated terms like `\"total_flags\"` to `\"total_profiles\"`.\n\n3. **Imputation and Calculation of Missing Data**: To ensure comparability, we calculated values that were not directly provided by the states:\n\n   - **Derived Percentages**: For states providing only counts (CA, TX), we calculated percentage compositions.\n\n   - **Derived Counts**: For states providing only percentages (IN), we calculated absolute numbers using reported totals.\n\n   - **Calculated Totals**: We created `\"Combined\"` offender type totals for states that only reported separate `\"Convicted Offender\"` and `\"Arrestee\"` figures.\n\n   - **Inferred Categories**: We added `\"Unknown\"` race and `\"Male\"` gender categories where they were logically missing but necessary to reconcile reported totals (CA, TX).\n\n4. **Quality Assurance and Transparency**: A core principle of this project was maintaining transparency and data provenance. This allows future researchers to understand exactly what was provided by the state versus what was derived during processing.\n\n   - **Validation checks**: `counts_consistent()`, `percentages_consistent()`\n\n   - **Value tagging**: `\"reported\"` or `\"calculated\"`.\n\n   - **Metadata table**: `foia_state_metadata` provides a clear audit trail of each state's original characteristics and the processing steps applied.",
    "supporting": [
      "foia_processing_pdf_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "\\usepackage{booktabs}\n\\usepackage{longtable}\n\\usepackage{array}\n\\usepackage{multirow}\n\\usepackage{wrapfig}\n\\usepackage{float}\n\\usepackage{colortbl}\n\\usepackage{pdflscape}\n\\usepackage{tabu}\n\\usepackage{threeparttable}\n\\usepackage{threeparttablex}\n\\usepackage[normalem]{ulem}\n\\usepackage{makecell}\n\\usepackage{xcolor}\n\\usepackage{fontspec}\n\\usepackage{multicol}\n\\usepackage{hhline}\n\\newlength\\Oldarrayrulewidth\n\\newlength\\Oldtabcolsep\n\\usepackage{hyperref}\n"
      ]
    },
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}